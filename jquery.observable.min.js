/*! JsObservable v1.0.2: http://jsviews.com/#jsobservable */
!function(t,e){var n=e.jQuery;"object"==typeof exports?module.exports=n?t(e,n):function(n){return t(e,n)}:"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(e,n)}):t(e,!1)}(function(t,e){"use strict";var n=e===!1;if(e=e||t.jQuery,!e||!e.fn)throw"JsObservable requires jQuery";var r,i,o="v1.0.2",s=e.views=e.views||n&&t.jsrender&&jsrender.views||{jsviews:o,sub:{settings:{}},settings:{advanced:function(t){return f=c.advanced=c.advanced||{_jsv:!0},t?("_jsv"in t&&(f._jsv=t._jsv),a.advSet(),s.settings):f}}},a=s.sub,c=a.settings,f=c.advanced,l=e.isFunction,p=e.expando,u=e.isArray,d="object";if(s.jsviews!==o)throw"JsObservable requires JsRender "+o;if(!e.observe){var v=e.event.special,h=[].slice,_=[].splice,g=[].concat,b=parseInt,m=/\S+/g,y=/^[^.[]*$/,I=a.propChng=a.propChng||"propertyChange",w=a.arrChng=a.arrChng||"arrayChange",j={},x=I+".observe",A=1,C=1,k=1,F=e.data,P={},S=function(t){return t?t._cId=t._cId||".obs"+C++:""},T=function(t,e){return this._data=e,this._ns=t,this},O=function(t,e){return this._data=e,this._ns=t,this},V=function(t){return u(t)?[t]:t},q=function(t,e,n){t=t?u(t)?t:[t]:[];var r,i,o,s,a=o=e,c=t&&t.length,f=[];for(r=0;r<c;r++)i=t[r],l(i)?(s=e.tagName?e.linkCtx.data:e,f=f.concat(q(i.call(e,s,n),s,n))):""+i===i?(a!==o&&f.push(o=a),f.push(i)):(e=a=i=void 0===i?null:i,a!==o&&f.push(o=a));return f.length&&(f.unshift({_ar:1}),f.push({_ar:-1})),f},D=function(t,e){for(var n in t)return;delete j[e]},H=function(t,e){function n(t){return typeof t===d&&(v[0]||!p&&u(t))}if(!t.data||!t.data.off){var r,i,o,s=e.oldValue,a=e.value,c=t.data,f=c.observeAll,l=c.cb,p=c._arOk?0:1,v=c.paths,h=c.ns;t.type===w?(l.array||l).call(c,t,e):c.prop!==e.path&&"*"!==c.prop||(f?(r=f._path+"."+e.path,i=f.filter,o=[t.target].concat(f.parents()),n(s)&&J(void 0,h,[s],v,l,!0,i,[o],r),n(a)&&J(void 0,h,[a],v,l,void 0,i,[o],r)):(n(s)&&J(p,h,[s],v,l,!0),n(a)&&J(p,h,[a],v,l)),c.cb(t,e))}},J=function(){var t=g.apply([],arguments);return r.apply(t.shift(),t)},Q=function(t,e,n){B(this._ns,this._data,t,e,[],"root",n)},M=function(t,e){Q.call(this,t,e,!0)},B=function(t,n,o,s,a,c,f,l){function v(t,e){for(g=t.length,m=c+"[]";g--;)h(t,g,e,1)}function h(e,n,r,a){var c,f;n!==p&&(c=i._fltr(m,e[n],y,s))&&(f=y.slice(),a&&I&&f[0]!==I&&f.unshift(I),B(t,c,o,s||(a?void 0:0),f,m,r,l))}function _(t,e){switch(c=t.data.observeAll._path,I=t.target,e.change){case"insert":v(e.items);break;case"remove":v(e.items,!0);break;case"set":m=c+"."+e.path,h(e,"oldValue",!0),h(e,"value")}I=void 0,o.apply(this,arguments)}_._wrp=1;var g,b,m,y,I,w,j=!l||l.un||!f;if(n&&typeof n===d){if(y=[n].concat(a),b=u(n)?"":"*",l&&j&&e.hasData(n)&&l[w=F(n).obId])return void l[w]++;if(l||(l={un:f}),o){if(b||0!==s)if(_._cId=S(o),j)r(t,n,b,_,f,s,y,c),w=F(n).obId,l[w]=(l[w]||0)+1;else{if(--l[F(n).obId])return;r(t,n,b,_,f,s,y,c)}}else l&&(l[F(n).obId]=1),r(t,n,b,void 0,f,s,y,c);if(b)for(g in n)m=c+"."+g,h(n,g,f);else v(n,f)}},N=function(t){return y.test(t)},R=function(){return[].push.call(arguments,!0),r.apply(void 0,arguments)};r=function(){function t(){function s(t,e){var n;for(O in e)n=e[O],u(n)?f(t,n,y,y):c(t,n,void 0,W,"")}function c(t,r,i,s,a,c,f){var l,p,u=V(r),d=N,v=R;if(s=n?s+"."+n:s,!y&&(f||c))for(L=e._data(r).events,L=L&&L[c?w:I],U=L&&L.length;U--;)if(O=L[U]&&L[U].data,O&&(f&&O.ns!==n||!f&&O.ns===n&&O.cb&&O.cb._cId===t._cId&&(!t._wrp||O.cb._wrp)))return;y||f?e(u).off(s,H):(p=c?{}:{fullPath:i,paths:a?[a]:[],prop:K,_arOk:o},p.ns=n,p.cb=t,R&&(p.observeAll={_path:v,path:function(){return l=d.length,v.replace(/[[.]/g,function(t){return l--,"["===t?"["+e.inArray(d[l-1],d[l]):"."})},parents:function(){return d},filter:$}),e(u).on(s,null,p,H),M&&(M[F(r).obId||F(r,"obId",A++)]=r))}function f(t,e,n,r,s){if(o){var a,f=R;a=e,s&&(a=e[s],R+="."+s),$&&a&&(a=i._fltr(R,a,s?[e].concat(N):N,$)),a&&(r||u(a))&&c(t,a,void 0,w+".observe"+S(t),void 0,!0,n),R=f}}function v(i){function s(i,h,_,m){function j(e){return e.ob=m(e,i),e.cb=function(n,r){var s=e.ob,a=e.sb,c=m(e,i);c!==s&&(typeof s===d&&(f(_,s,!0),(a||o&&u(s))&&t([s],a,_,m,!0)),e.ob=c,typeof c===d&&(f(_,c),(a||o&&u(c))&&t([c],a,_,m))),_(n,r)}}function x(t,i){function o(t,e){var n;if("insert"===e.change||(y="remove"===e.change)){for(n=e.items.length;n--;)x(e.items[n],i.slice());y=!1}}_&&(o._cId=S(_));var a,h,b,j,A,k=t;if(t&&t._cxp)return s(t[0],[t[1]],_,m);for(;void 0!==(K=i.shift());){if(k&&typeof k===d&&""+K===K){if(""===K)continue;if(i.length<F+1&&!k.nodeType){if(!y&&(L=e._data(k).events)){for(L=L&&L[I],U=L&&L.length,h=0;U--;)O=L[U].data,!O||O.ns!==n||O.cb._cId!==_._cId||O.cb._inId!==_._inId||O.prop!==K&&"*"!==O.prop&&"**"!==O.prop||((A=i.join("."))&&O.paths.push(A),h++);if(h){k=k[K];continue}}if("*"===K||"**"===K){if(!y&&L&&L.length&&c(_,k,C,W,"",!1,!0),"*"===K){c(_,k,C,W,"");for(A in k)A!==p&&f(_,k,y,void 0,A)}else e.observable(n,k)[(y?"un":"")+"observeAll"](_);break}"[]"==K?u(k)&&(y?c(_,k,C,w+S(_),void 0,y,y):r(n,k,o,y)):K&&c(_,k,C,W+".p_"+K,i.join("^"))}if(R&&(R+="."+K),"[]"===K){for(u(k)&&(j=k,a=k.length);a--;)k=j[a],x(k,i.slice());return}K=k[K],i[0]||f(_,K,y)}if(l(K)){(b=K.depends)&&(k._vw&&k._ocp&&(k=k._vw,k._tgId&&(k=k.tagCtx.view),k=k.data),v(g.apply([],[[k],q(b,k,_)])));break}k=K}}var A,C,F=0,P=h.length;for(!i||m||!(G="view"===i._is)&&"tag"!==i._is||(m=a._gccb(G?i:i.tagCtx.contentView),_&&!y&&!function(){var t=i,e=_;_=function(n,r){e.call(t,n,r)},_._cId=e._cId,_._inId=e._inId}(),i=G?i.data:i),h[0]||(u(i)?f(_,i,y,!0):y&&c(_,i,void 0,W,"")),A=0;A<P;A++)if(C=h[A],""!==C)if(C&&C._ar)o+=C._ar;else if(""+C===C)if(b=C.split("^"),b[1]&&(F=b[0].split(".").length,C=b.join("."),F=C.split(".").length-F),m&&(Q=m(C,i,F))){if(Q.length){var T=Q[0],V=Q[1];if(T&&T._cxp&&(V=T[1],T=T[0],"view"===T._is)){s(T,[V],_);continue}V+""===V?x(T,V.split(".")):s(Q.shift(),Q,_,m)}}else x(i,C.split("."));else!l(C)&&C&&C._cpfn&&(B=y?C.cb:j(C),B._cId=_._cId,B._inId=B._inId||".obIn"+k++,(C.bnd||C.prm&&C.prm.length||!C.sb)&&t([i],C.path,C.prm.length?[C.root||i]:[],C.prm,B,m,y),C.sb&&(C.sb.prm&&(C.sb.root=i),s(C.ob,[C.sb],_,m)))}for(var h,_=[],m=i.length;m--;)h=i[m],h+""===h||h&&(h._ar||h._cpfn)?_.unshift(h):(s(h,_,C,J),_=[])}var _,b,y,C,P,T,O,J,Q,M,B,N,R,$,z,E,G,K,L,U,W=x,X=1!=this?g.apply([],arguments):h.call(arguments),Y=X.pop()||!1,Z=X.length;if(Y+""===Y&&(R=Y,N=X.pop(),$=X.pop(),Y=!!X.pop(),Z-=3),Y===!!Y&&(y=Y,Y=X[Z-1],Y=!Z||Y+""===Y||Y&&!l(Y)?void 0:(Z--,X.pop()),y&&!Z&&l(X[0])&&(Y=X.shift())),C=Y,Z&&l(X[Z-1])&&(J=C,Y=C=X.pop(),Z--),!y||!C||C._cId){for(W+=C?(T=C._inId||"",y?C._cId+T:(P=S(C))+T):"",P&&!y&&(M=j[P]=j[P]||{}),z=n&&n.match(m)||[""],E=z.length;E--;){if(n=z[E],y&&arguments.length<3)if(C)s(C,j[C._cId]);else if(!X[0])for(_ in j)s(C,j[_]);v(X)}return P&&D(M,P),{cbId:P,bnd:M,s:j}}}var n,o=1==this?0:1,s=h.call(arguments),c=s[0];return c+""===c&&(n=c,s.shift()),t.apply(1,s)},i=function(t,e){return 1===arguments.length&&(e=t,t=""),u(e)?new O(t,e):new T(t,e)},e.observable=i,i._fltr=function(t,e,n,r){if(!r||!l(r)||r(t,e,n))return e=l(e)?e.set&&e.call(n[0]):e,typeof e===d&&e},i.Object=T,i.Array=O,e.observe=i.observe=r,e.unobserve=i.unobserve=R,i._apply=J,T.prototype={_data:null,observeAll:Q,unobserveAll:M,data:function(){return this._data},setProperty:function(t,e,n){t=t||"";var r,i,o,s=t+""!==t,a=this,c=a._data;if(c)if(s)if(n=e,u(t))for(r=t.length;r--;)i=t[r],a.setProperty(i.name,i.value,void 0===n||n);else for(r in t)a.setProperty(r,t[r],n);else if(t!==p){for(o=t.split(/[.^]/);c&&o.length>1;)c=c[o.shift()];c&&a._setProperty(c,o[0],e,n)}return a},removeProperty:function(t){return this.setProperty(t,P),this},_setProperty:function(t,e,n,r){var i,o,s,a,c,f=e?t[e]:t;l(f)&&f.set&&(c=t._vw||t,o=f,i=o.set===!0?o:o.set,f=o.call(c)),(f!==n||r&&f!=n)&&(!(f instanceof Date&&n instanceof Date)||f>n||f<n)&&(i?(i.call(c,n),n=o.call(c)):(s=n===P)?void 0!==f?(delete t[e],n=void 0):e=void 0:e&&(t[e]=n),e&&(a={change:"set",path:e,value:n,oldValue:f,remove:s},t._ocp&&(a.ctxPrm=t._key),this._trigger(t,a)))},_trigger:function(t,n){e(t).triggerHandler(I+(this._ns?"."+/^\S+/.exec(this._ns)[0]:""),n)}},O.prototype={_data:null,observeAll:Q,unobserveAll:M,data:function(){return this._data},insert:function(t,e){var n=this._data;return 1===arguments.length&&(e=t,t=n.length),t=b(t),t>-1&&(e=u(e)?e:[e],e.length&&this._insert(t,e)),this},_insert:function(t,e){var n=this._data,r=n.length;t>r&&(t=r),_.apply(n,[t,0].concat(e)),this._trigger({change:"insert",index:t,items:e},r)},remove:function(t,e){var n,r=this._data;return void 0===t&&(t=r.length-1),t=b(t),e=e?b(e):0===e?0:1,e>0&&t>-1&&(n=r.slice(t,t+e),(e=n.length)&&this._remove(t,e,n)),this},_remove:function(t,e,n){var r=this._data,i=r.length;r.splice(t,e),this._trigger({change:"remove",index:t,items:n},i)},move:function(t,e,n){return n=n?b(n):0===n?0:1,t=b(t),e=b(e),n>0&&t>-1&&e>-1&&t!==e&&this._move(t,e,n),this},_move:function(t,e,n){var r,i=this._data,o=i.length,s=t+n-o;s>0&&(n-=s),n&&(r=i.splice(t,n),e>i.length&&(e=i.length),_.apply(i,[e,0].concat(r)),e!==t&&this._trigger({change:"move",oldIndex:t,index:e,items:r},o))},refresh:function(t){function e(){i&&(a.insert(r-i,c),u+=i,n+=i,i=0,c=[])}var n,r,i,o,s,a=this,c=[],f=a._data,l=f.slice(),p=f.length,u=p,d=t.length;for(a._srt=!0,r=i=0;r<d;r++)if((o=t[r])===f[r-i])e();else{for(n=r-i;n<u&&o!==f[n];n++);if(n<u){for(e(),s=0;s++<d-n&&t[r+s]===f[n+s];);a.move(n,r,s),r+=s-1}else i++,c.push(o)}return e(),u>r&&a.remove(r,u-r),a._srt=void 0,(p||d)&&a._trigger({change:"refresh",oldItems:l},p),a},_trigger:function(t,n){var r=this,i=r._data,o=i.length,s=e([i]);r._srt?t.refresh=!0:o!==n&&s.triggerHandler(I,{change:"set",path:"length",value:o,oldValue:n}),s.triggerHandler(w+(r._ns?"."+/^\S+/.exec(r._ns)[0]:""),t)}},v[I]=v[w]={remove:function(t){var n,r,i,o,s,a=t.data;if(a&&(a.off=!0,a=a.cb)&&(n=j[a._cId])){for(i=e._data(this).events[t.type],o=i.length;o--&&!r;)r=(s=i[o].data)&&s.cb&&s.cb._cId===a._cId;r||(delete n[F(this).obId],D(n,a._cId))}}},s.map=function(t){function n(e,n,r,o){var s,a,c=this;c.src&&c.unmap(),n&&(n.map=c),(typeof e===d||l(e))&&(c.src=e,o?c.tgt=t.getTgt(e,n):(r&&(c.tgt=r.tgt||u(r)&&r),c.tgt=c.tgt||[],c.options=n||c.options,(a=c.update())?c=a:(t.obsSrc&&i(c.src).observeAll(c.obs=function(e,n){s||n.refresh||(s=!0,t.obsSrc(c,e,n),s=void 0)},c.srcFlt),t.obsTgt&&i(c.tgt).observeAll(c.obt=function(e,n){s||c.tgt._updt||(s=!0,t.obsTgt(c,e,n),s=void 0)},c.tgtFlt))))}return l(t)&&(t={getTgt:t}),t.baseMap&&(t=e.extend({},t.baseMap,t)),t.map=function(t,e,r,i){return new n(t,e,r,i)},(n.prototype={srcFlt:t.srcFlt||N,tgtFlt:t.tgtFlt||N,update:function(e){var n,r,o=this,s=o.tgt;if(!s._updt&&(s._updt=!0,n=o.options&&o.options.map,i(s).refresh(t.getTgt(o.src,o.options=e||o.options)),s._updt=!1,r=o.options&&o.options.map,r&&n!==r))return r},observe:function(t,n){var r=this,o=r.options;r.obmp&&R(r.obmp),r.obmp=function(){var t=n.fn(n.data,n.view,a)[o.index];e.extend(o.props,t.props),o.args=t.args,r.update()},i._apply(1,n.data,q(t,n.tag,r.obmp),r.obmp,n._ctxCb)},unmap:function(){var t=this;t.src&&t.obs&&i(t.src).unobserveAll(t.obs,t.srcFlt),t.tgt&&t.obt&&i(t.tgt).unobserveAll(t.obt,t.tgtFlt),t.obmp&&R(t.obmp),t.src=void 0},map:n,_def:t}).constructor=n,t},a.advSet=function(){a._gccb=this._gccb,t._jsv=c.advanced._jsv?{cbBindings:j}:void 0},a._dp=q,a._gck=S,a._obs=r}return e},window);
//# sourceMappingURL=jquery.observable.min.js.map
