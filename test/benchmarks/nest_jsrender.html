<!DOCTYPE html PUBLIC>
<html>
<head>
	<title>Benchmark JsRender</title>
	<script src="http://code.jquery.com/jquery.js" type="text/javascript"></script>
	<script src="../../jsrender.js" type="text/javascript"></script>
</head>
<body>

<h3>JsRender</h3>

<!--=================== Demo Section ===================-->

<script id="movieTemplate" type="text/x-jquery-tmpl">
	<tr>
		<td>{{=Title!}}</td>
		<td>
			{{#each Languages}}
				<div>
					<em>{{=Name!}}</em>
				</div>
			{{/each}}
		</td>
	</tr>
</script>

<div id="console">
</div>


<script type="text/javascript">
	var tmpl, res, endTime, result, languageTmpl,
		times = 1000,
		count = times;
		movie = {
			Title: "Meet Joe Black",
			Languages: [
				{ Name: "English" },
				{ Name: "French" }
			]
		},
		startTime = +new Date,
		tmplString = $( "#movieTemplate" )[0].innerHTML;
	
	while (count--) {
		tmpl = $.template( tmplString );
	} 
	endTime = +new Date;
	result = ( endTime-startTime )/times;
	$( "#console" ).append( "compile: " + result + "<br/>" );

	times = 10000;
	count = times;
	startTime = +new Date;
	while (count--) {
		res = $.render( tmpl, movie );
	} 
	endTime = +new Date;
	result = ( endTime-startTime )/times;
	$( "#console" ).append( "run: " + result + "<br/>");

</script>

<!--================ End of Demo Section ================-->


</body>
</html>
