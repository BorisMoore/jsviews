/*! jsviews.js v1.0.0-alpha single-file version:
includes JsRender, JsObservable and JsViews  http://github.com/BorisMoore/jsrender and http://jsviews.com/jsviews
informal pre V1.0 commit counter: 55 (Beta Candidate) */
(function(n,t,i){"use strict";function ot(n){return n}function tr(n){return n}function kt(n){s._dbgMode=n;pt=n?"Unavailable (nested view): use #getIndex()":"";g("dbg",hi.dbg=it.dbg=n?tr:ot)}function dt(n){return{getTgt:n,map:function(t){var r,i=this;i.src!==t&&(i.src&&i.unmap(),typeof t=="object"&&(r=n.apply(i,arguments),i.src=t,i.tgt=r))}}}function st(n){this.name=(u.link?"JsViews":"JsRender")+" Error";this.message=n||this.name}function f(n,t){var i;n=n||{};for(i in t)n[i]=t[i];return n}function tt(n){return typeof n=="function"}function gt(n,t,i){return(!o.rTag||n)&&(p=n?n.charAt(0):p,w=n?n.charAt(1):w,h=t?t.charAt(0):h,v=t?t.charAt(1):v,nt=i||nt,n="\\"+p+"(\\"+nt+")?\\"+w,t="\\"+h+"\\"+v,y="(?:(?:(\\w+(?=[\\/\\s\\"+h+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+h+"]|\\"+h+"(?!\\"+v+"))*?)",o.rTag=y+")",y=new RegExp(n+y+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),yt=new RegExp("<.*>|([^\\\\]|^)[{}]|"+n+".*"+t)),[p,w,h,v,nt]}function ir(n,t){t||(t=n,n=i);var e,f,o,u,r=this,s=!t||t==="root";if(n){if(u=r.type===t?r:i,!u)if(e=r.views,r._.useKey){for(f in e)if(u=e[f].get(n,t))break}else for(f=0,o=e.length;!u&&f<o;f++)u=e[f].get(n,t)}else if(s)while(r.parent.parent)u=r=r.parent;else while(r&&!u)u=r.type===t?r:i,r=r.parent;return u}function ni(){var n=this.get("item");return n?n.index:i}function ti(){return this.index}function rr(t){var u,e=this,o=e.linkCtx,r=(e.ctx||{})[t];return r===i&&o&&o.ctx&&(r=o.ctx[t]),r===i&&(r=hi[t]),r&&tt(r)&&!r._wrp&&(u=function(){return r.apply(!this||this===n?e:this,arguments)},u._wrp=1,f(u,r)),u||r}function ur(n,t,u){var f,e,c,s=+u===u&&u,h=t.linkCtx;if(s&&(u=(s=t.tmpl.bnds[s-1])(t.data,t,r)),e=u.args[0],n||s){f=h&&h.tag;f||(f={_:{inline:!h,bnd:s},tagName:":",cvt:n,flow:!0,tagCtx:u,_is:"tag"},h&&(h.tag=f,f.linkCtx=h,u.ctx=a(u.ctx,h.view.ctx)),o._lnk(f));for(c in u.props)ft.test(c)&&(f[c]=u.props[c]);u.view=t;f.ctx=u.ctx||{};delete u.ctx;t._.tag=f;e=ht(f,f.convert||n!=="true"&&n)[0];e=s&&t._.onRender?t._.onRender(e,t,s):e;t._.tag=i}return e!=i?e:""}function ht(n,t){var r=n.tagCtx,u=r.view,i=r.args;return t=t&&(""+t===t?u.getRsc("converters",t)||c("Unknown converter: '"+t+"'"):t),i=!i.length&&!r.index&&n.autoBind?[u.data]:t?i.slice():i,t&&(t.depends&&(n.depends=o.getDeps(n.depends,n,t.depends,t)),i[0]=t.apply(n,i)),i}function fr(n,t){for(var f,e,u=this;f===i&&u;)e=u.tmpl[n],f=e&&e[t],u=u.parent;return f||r[n][t]}function er(n,t,u,s,h){var lt,l,wt,at,et,y,vt,k,v,ot,rt,bt,d,yt,pt,nt,p,st,tt,kt,g="",ct=+s===s&&s,w=t.linkCtx||0,ut=t.ctx,dt=u||t.tmpl;for(n._is==="tag"&&(l=n,n=l.tagName,s=l.tagCtxs),l=l||w.tag,ct&&(s=(bt=dt.bnds[ct-1])(t.data,t,r)),vt=s.length,y=0;y<vt;y++){if(y||u&&l||(d=t.getRsc("tags",n)||c("Unknown tag: {{"+n+"}}")),v=s[y],w.tag||(rt=v.tmpl,rt=v.content=rt&&dt.tmpls[rt-1],f(v,{tmpl:(l?l:d).template||rt,render:fi,index:y,view:t,ctx:a(v.ctx,ut)})),(u=v.props.tmpl)&&(u=""+u===u?t.getRsc("templates",u)||e(u):u,v.tmpl=u),l||(d._ctr?(l=new d._ctr,yt=!!l.init,l.attr=l.attr||d.attr||i):o._lnk(l={render:d.render}),l._={inline:!w},w&&(w.attr=l.attr=w.attr||l.attr,w.tag=l,l.linkCtx=w),(l._.bnd=bt||w.fn)?l._.arrVws={}:l.dataBoundOnly&&c("{^{"+n+"}} tag must be data-bound"),l.tagName=n,l.parent=et=ut&&ut.tag,l._is="tag",l._def=d,l.tagCtxs=s),!y)for(st in tt=v.props)ft.test(st)&&(l[st]=tt[st]);v.tag=l;l.map&&l.tagCtxs&&(v.map=l.tagCtxs[y].map);l.flow||(ot=v.ctx=v.ctx||{},wt=l.parents=ot.parentTags=ut&&a(ot.parentTags,ut.parentTags)||{},et&&(wt[et.tagName]=et),ot.tag=l)}for(t._.tag=l,l.rendering={},y=0;y<vt;y++)v=l.tagCtx=l.tagCtxs[y],tt=v.props,p=ht(l,l.convert),(pt=tt.map||l).map&&(p.length||tt.map)&&(nt=v.map=f(v.map||{unmap:pt.unmap},tt),nt.src!==p[0]&&(nt.src&&nt.unmap(),pt.map.apply(nt,p)),p=[nt.tgt]),l.ctx=v.ctx,!y&&yt&&(kt=l.template,l.init(v,w,l.ctx),yt=i,l.template!==kt&&(l._.tmpl=l.template)),k=i,lt=l.render,(lt=l.render)&&(k=lt.apply(l,p)),p=p.length?p:[t],k=k!==i?k:v.render(p[0],!0)||(h?i:""),g=g?g+(k||""):k;return delete l.rendering,l.tagCtx=l.tagCtxs[0],l.ctx=l.tagCtx.ctx,l._.inline&&(at=l.attr)&&at!==b&&(g=at==="text"?it.html(g):""),ct&&t._.onRender?t._.onRender(g,t,ct):g}function d(n,t,i,r,u,f,e,o){var a,h,c,s=this,v=t==="array",l={key:0,useKey:v?0:1,id:""+nr++,onRender:o,bnds:{}};s.data=r;s.tmpl=u;s.content=e;s.views=v?[]:{};s.parent=i;s.type=t;s._=l;s.linked=!!o;i?(a=i.views,h=i._,h.useKey?(a[l.key="_"+h.useKey++]=s,s.index=pt,s.getIndex=ni,c=h.tag,l.bnd=v&&(!c||!!c._.bnd&&c)):a.splice(l.key=s.index=f,0,s),s.ctx=n||i.ctx):s.ctx=n}function or(n){var i,r,t,u,f,e;for(i in k)if(u=k[i],(f=u.compile)&&(r=n[i+"s"]))for(t in r)r[t]=f(t,r[t],n,i,u),(e=o.onStoreItem)&&e(i,t,r[t],f)}function sr(n,t,r){var f,u;return tt(t)?t={depends:t.depends,render:t}:((u=t.template)!==i&&(t.template=""+u===u?e[u]||e(u):u),t.init!==!1&&(f=t._ctr=function(){},(f.prototype=t).constructor=f)),r&&(t._parentTmpl=r),t}function ii(r,u,f,o,s,h){function v(u){if(""+u===u||u.nodeType>0){try{l=u.nodeType>0?u:!yt.test(u)&&t&&t(n.document).find(u)[0]}catch(c){}return l&&(u=e[r=r||l.getAttribute(et)],u||(r=r||"_"+gi++,l.setAttribute(et,r),u=e[r]=ii(r,l.innerHTML,f,o,s,h)),l=i),u}}var c,l;return u=u||"",c=v(u),h=h||(u.markup?u:{}),h.tmplName=r,f&&(h._parentTmpl=f),!c&&u.markup&&(c=v(u.markup))&&c.fn&&(c.debug!==u.debug||c.allowCode!==u.allowCode)&&(c=c.markup),c!==i?(r&&!f&&(bt[r]=function(){return u.render.apply(u,arguments)}),c.fn||u.fn?c.fn&&(u=r&&r!==c.tmplName?a(h,c):c):(u=ri(c,h),lt(c.replace(yi,"\\$&"),u)),or(h),u):void 0}function ri(n,t){var i,e=s.wrapMap||{},r=f({markup:n,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:ui},t);return t.htmlTag||(i=bi.exec(n),r.htmlTag=i?i[1].toLowerCase():""),i=e[r.htmlTag],i&&i!==e.div&&(r.markup=u.trim(r.markup)),r}function hr(n,t){function u(e,s,h){var v,c,l,a;if(e&&""+e!==e&&!e.nodeType&&!e.markup){for(l in e)u(l,e[l],s);return r}return s===i&&(s=e,e=i),e&&""+e!==e&&(h=s,s=e,e=i),a=h?h[f]=h[f]||{}:u,c=t.compile,e?s===null?delete a[e]:a[e]=c?s=c(e,s,h,n,t):s:s=c(i,s),c&&s&&(s._is=n),(v=o.onStoreItem)&&v(n,e,s,c),s}var f=n+"s";r[f]=u;k[n]=t}function cr(n,t){var i=this.jquery&&(this[0]||c('Unknown template: "'+this.selector+'"')),r=i.getAttribute(et);return ui.call(r?e[r]:e(i),n,t)}function ct(n,t,i){if(s._dbgMode)try{return n.fn(t,i,r)}catch(u){return c(u,i)}return n.fn(t,i,r)}function ui(n,t,i,r,f,e){var o=this;return!r&&o.fn._nvw&&!u.isArray(n)?ct(o,n,{tmpl:o}):fi.call(o,n,t,i,r,f,e)}function fi(n,t,r,f,o,s){var y,ut,g,l,nt,tt,it,p,v,rt,w,ft,h,et,c=this,k="";if(!!t===t&&(r=t,t=i),o===!0&&(it=!0,o=0),c.tag?(p=c,c=c.tag,rt=c._,ft=c.tagName,h=rt.tmpl||p.tmpl,et=c.attr&&c.attr!==b,t=a(t,c.ctx),v=p.content,p.props.link===!1&&(t=t||{},t.link=!1),f=f||p.view,n=arguments.length?n:f):h=c,h&&(!f&&n&&n._is==="view"&&(f=n),f&&(v=v||f.content,s=s||f._.onRender,n===f&&(n=f.data),t=a(t,f.ctx)),f&&f.data!==i||((t=t||{}).root=n),h.fn||(h=e[h]||e(h)),h)){if(s=(t&&t.link)!==!1&&!et&&s,w=s,s===!0&&(w=i,s=f._.onRender),t=h.helpers?a(h.helpers,t):t,u.isArray(n)&&!r)for(l=it?f:o!==i&&f||new d(t,"array",f,n,h,o,v,s),y=0,ut=n.length;y<ut;y++)g=n[y],nt=new d(t,"item",l,g,h,(o||0)+y,v,s),tt=ct(h,g,nt),k+=l._.onRender?l._.onRender(tt,nt):tt;else(f||!h.fn._nvw)&&(l=it?f:new d(t,ft||"data",f,n,h,o,v,s),rt&&!c.flow&&(l.tag=c)),k+=ct(h,n,l);return w?w(k,l):k}return""}function c(n,t,i){var r=s.onError(n,t,i);if(""+n===n)throw new o.Err(r);return!t.linkCtx&&t.linked?it.html(r):r}function l(n){c("Syntax error\n"+n)}function lt(n,t,i,r){function k(t){t-=f;t&&h.push(n.substr(f,t).replace(ut,"\\n"))}function c(t){t&&l('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+n)}function d(e,o,v,y,p,d,nt,tt,it,rt,et,ot){d&&(p=":",y=b);rt=rt||i;var st=(o||i)&&[],ct="",lt="",at="",vt="",yt="",pt="",wt="",bt="",ht=!rt&&!p&&!nt;v=v||(it=it||"#data",p);k(ot);f=ot+e.length;tt?g&&h.push(["*","\n"+it.replace(vi,"$1")+"\n"]):v?(v==="else"&&(wi.test(it)&&l('for "{{else if expr}}" use "{{else expr}}"'),st=u[7],u[8]=n.substring(u[8],ot),u=s.pop(),h=u[2],ht=!0),it&&si(it.replace(ut," "),st,t).replace(pi,function(n,t,i,r,u,f,e,o){return e?(lt+=f+",",vt+="'"+o+"',"):i?(at+=r+f+",",pt+=r+"'"+o+"',"):t?wt+=f:(u==="trigger"&&(bt+=f),ct+=r+f+",",yt+=r+"'"+o+"',",w=w||ft.test(u)),""}).slice(0,-1),a=[v,y||!!r||w||"",ht&&[],ei(vt,yt,pt),ei(lt,ct,at),wt,bt,st||0],h.push(a),ht&&(s.push(u),u=a,u[8]=f)):et&&(c(et!==u[0]&&u[0]!=="else"&&et),u[8]=n.substring(u[8],ot),u=s.pop());c(!u&&et);h=u[2]}var o,a,w,g=t&&t.allowCode,e=[],f=0,s=[],h=e,u=[,,e];return i&&(n=p+n+v),c(s[0]&&s[0][2].pop()[0]),n.replace(y,d),k(n.length),(f=e[e.length-1])&&c(""+f!==f&&+f[8]===f[8]&&f[0]),i?(o=at(e,n,i),o.paths=e[0][7]):o=at(e,t),o._nvw&&(o._nvw=!/[~#]/.test(n)),o}function ei(n,t,i){return[n.slice(0,-1),t.slice(0,-1),i.slice(0,-1)]}function oi(n,t){return"\n\t"+(t?t+":{":"")+"args:["+n[0]+"]"+(n[1]||!t?",\n\tprops:{"+n[1]+"}":"")+(n[2]?",\n\tctx:{"+n[2]+"}":"")}function si(n,t,i){function p(p,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,at,vt,yt,pt){function dt(n,i,r,f,e,s,h,l){if(r&&(t&&(u==="linkTo"&&(o=t._jsvto=t._jsvto||[],o.push(g)),(!u||c)&&t.push(g.slice(i.length))),r!==".")){var a=(f?'view.hlp("'+f+'")':e?"view":"data")+(l?(s?"."+s:f?"":e?"":"."+r)+(h||""):(l=f?"":e?s||"":r,""));return a=a+(l?"."+l:""),i+(a.slice(0,9)==="view.data"?a.slice(5):a)}return n}nt=nt||"";k=k||b||et;g=g||rt;ut=ut||at||"";var bt,kt,wt;if(!tt||e||f)return t&&ct&&!e&&!f&&(!u||c||o)&&(bt=y[r],pt.length-1>yt-bt&&(bt=pt.slice(bt,yt+1),ct=w+":"+bt+h,wt=v[ct],wt||(v[ct]=1,v[ct]=wt=lt(ct,i||t,!0),wt.paths.push({_jsvOb:wt})),wt!==1&&(o||t).push({_jsvOb:wt}))),e?(e=!ot,e?p:'"'):f?(f=!st,f?p:'"'):(k?(r++,y[r]=yt++,k):"")+(vt?r?"":(s=pt.slice(s,yt),u?(u=c=o=!1,"\b"):"\b,")+s+(s=yt+p.length,"\b"):it?(r&&l(n),u=g,c=d,s=yt+p.length,g+":"):g?g.split("^").join(".").replace(li,dt)+(ut?(a[++r]=!0,g.charAt(0)!=="."&&(y[r]=yt),kt?"":ut):nt):nt?nt:ht?(a[r--]=!1,ht)+(ut?(a[++r]=!0,ut):""):ft?(a[r]||l(n),","):b?"":(e=ot,f=st,'"'));l(n)}var u,o,c,f,e,s=0,v=i?i.links:t&&(t.links=t.links||{}),a={},y={0:-1},r=0;return(n+(i?" ":"")).replace(/\)\^/g,").").replace(ai,p)}function at(n,i,r){var y,f,e,c,d,ht,ct,bt,lt,g,rt,p,o,ft,et,v,nt,w,tt,vt,k,yt,pt,ot,s,a,st,wt,h=0,u="",it={},kt=n.length;for(""+i===i?(v=r?'data-link="'+i.replace(ut," ").slice(1,-1)+'"':i,i=0):(v=i.tmplName||"unnamed",i.allowCode&&(it.allowCode=!0),i.debug&&(it.debug=!0),p=i.bnds,et=i.tmpls),y=0;y<kt;y++)if(f=n[y],""+f===f)u+='\n+"'+f+'"';else if(e=f[0],e==="*")u+=";\n"+f[1]+"\nret=ret";else{if(c=f[1],tt=f[2],d=oi(f[3],"params")+"},"+oi(ft=f[4]),a=f[5],wt=f[6],vt=f[8],(pt=e==="else")||(h=0,p&&(o=f[7])&&(h=p.push(o))),(ot=e===":")?c&&(e=c===b?">":c+e):(tt&&(nt=ri(vt,it),nt.tmplName=v+"/"+e,at(tt,nt),et.push(nt)),pt||(w=e,yt=u,u=""),k=n[y+1],k=k&&k[0]==="else"),st=a?";\ntry{\nret+=":"\n+",ot&&(o||wt||c&&c!==b)){if(s="return {"+d+"};",a&&(s="try {\n"+s+"\n}catch(e){return {error: j._err(e,view,"+a+")}}\n"),s=new Function("data,view,j,u"," // "+v+" "+h+" "+e+"\n"+s),s.paths=o,s._tag=e,r)return s;rt=1}if(u+=ot?(r?(a?"\ntry{\n":"")+"return ":st)+(rt?(rt=0,g=lt=!0,'c("'+c+'",view,'+(o?(p[h-1]=s,h):"{"+d+"}")+")"):e===">"?(ct=!0,"h("+ft[0]+")"):(bt=!0,"((v="+ft[0]+')!=null?v:"")')):(g=ht=!0,"\n{view:view,tmpl:"+(tt?et.length:"0")+","+d+"},"),w&&!k){if(u="["+u.slice(0,-1)+"]",(r||o)&&(u=new Function("data,view,j,u"," // "+v+" "+h+" "+w+"\nreturn "+u+";"),o&&((p[h-1]=u).paths=o),u._tag=e,r))return u;u=yt+st+'t("'+w+'",view,this,'+(h||u)+")";o=0;w=0}a&&(g=!0,u+=";\n}catch(e){ret"+(r?"urn ":"+=")+"j._err(e,view,"+a+");}\n"+(r?"":"ret=ret"))}u="// "+v+"\nj=j||"+(t?"jQuery.":"jsviews.")+"views;var v"+(ht?",t=j._tag":"")+(lt?",c=j._cnvt":"")+(ct?",h=j.converters.html":"")+(r?";\n":',ret=""\n')+(it.debug?"debugger;":"")+u+(r?"\n":";\nreturn ret;");try{u=new Function("data,view,j,u",u)}catch(dt){l("Compiled template code:\n\n"+u+'\n: "'+dt.message+'"')}return i&&(i.fn=u),g||(u._nvw=!0),u}function a(n,t){return n&&n!==t?t?f(f({},t),n):n:t&&f({},t)}function lr(n){return wt[n]||(wt[n]="&#"+n.charCodeAt(0)+";")}function ar(n){var i,t,r=[];if(typeof n=="object")for(i in n)t=n[i],t&&t.toJSON&&!t.toJSON()||tt(t)||r.push({key:i,prop:n[i]});return r}function ci(n){return n!=null?ki.test(n)&&(""+n).replace(di,lr)||n:""}if((!t||!t.views)&&!n.jsviews){var u,rt,y,yt,pt,p="{",w="{",h="}",v="}",nt="^",li=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,ai=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^|\s*$)|[)\]])([([]?))|(\s+)/g,ut=/[ \t]*(\r\n|\n|\r)/g,vi=/\\(['"])/g,yi=/['"\\]/g,pi=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,wi=/^if\s/,bi=/<(\w+)[>\s]/,ki=/[\x00`><\"'&]/,ft=/^on[A-Z]|^convert(Back)?$/,di=/[\x00`><"'&]/g,gi=0,nr=0,wt={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},b="html",et="data-jsv-tmpl",bt={},k={template:{compile:ii},tag:{compile:sr},helper:{},converter:{}},r={jsviews:"v1.0.0-beta",settings:function(n){f(s,n);kt(s._dbgMode);s.jsv&&s.jsv()},sub:{View:d,Err:st,tmplFn:lt,cvt:ht,parse:si,extend:f,syntaxErr:l,DataMap:dt,_lnk:ot},_cnvt:ur,_tag:er,_err:c};(st.prototype=new Error).constructor=st;ni.depends=function(){return[this.get("item"),"index"]};ti.depends=function(){return["index"]};d.prototype={get:ir,getIndex:ti,getRsc:fr,hlp:rr,_is:"view"};for(rt in k)hr(rt,k[rt]);var vt,e=r.templates,it=r.converters,hi=r.helpers,g=r.tags,o=r.sub,s=r.settings;t?(u=t,u.fn.render=cr,(vt=u.observable)&&(f(o,vt.sub),delete vt.sub)):(u=n.jsviews={},u.isArray=Array&&Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"});u.render=bt;u.views=r;u.templates=e=r.templates;s({debugMode:kt,delimiters:gt,onError:function(n,t,r){return t&&(n=r===i?"{Error: "+n+"}":tt(r)?r(n,t):r),n},_dbgMode:!0});g({"else":function(){},"if":{render:function(n){var t=this;return t.rendering.done||!n&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render(t.tagCtx.view,!0))},onUpdate:function(n,t,i){for(var r,f,u=0;(r=this.tagCtxs[u])&&r.args.length;u++)if(r=r.args[0],f=!r!=!i[u].args[0],!this.convert&&!!r||f)return f;return!1},flow:!0},"for":{render:function(n){var f,t=this,r=t.tagCtx,e="",o=0;return t.rendering.done||((f=!arguments.length)&&(n=r.view.data),n!==i&&(e+=r.render(n,f),o+=u.isArray(n)?n.length:1),(t.rendering.done=o)&&(t.selected=r.index)),e},flow:!0,autoBind:!0},include:{flow:!0,autoBind:!0},"*":{render:ot,flow:!0}});g({props:f(f({},g.for),dt(ar))});g.props.autoBind=!0;it({html:ci,attr:ci,url:function(n){return n!=i?encodeURI(""+n):n===null?n:""}});gt()}})(this,this.jQuery),function(n,t,i){"use strict";function f(n){return r(n)?new k(n):new b(n)}function b(n){return this._data=n,this}function k(n){return this._data=n,this}function lt(n){return r(n)?[n]:n}function ut(n,t){n=r(n)?n:[n];for(var i,e=t,o=e,h=n.length,f=[],s=0;s<h;s++){if(i=n[s],u(i)){f=f.concat(ut(i.call(t,t),t));continue}else if(""+i!==i){t=o=i;o!==e&&f.push(e=o);continue}o!==e&&f.push(e=o);f.push(i)}return f}function ft(n,t){var r,i;for(r in n){i=!0;break}i||delete y[t]}function d(n,t){if(!(n.data&&n.data.off)){var v,y,p,f=t.oldValue,o=t.value,u=n.data,h=u.observeAll,c=!u.cb.noArray,a=u.paths;n.type===l?(u.cb.array||u.cb).call(u,n,t):(u.prop===t.path||u.prop==="*")&&(f=typeof f===s&&(a[0]||c&&r(f))&&f,o=typeof(o=t.value)===s&&(a[0]||c&&r(o))&&o,h?(v=h._path+"."+t.path,y=h.filter,p=[h.parents().slice()],f&&e(c,h.ns,[f],a,u.cb,!0,y,p,v),o&&e(c,h.ns,[o],a,u.cb,i,y,p,v)):(f&&e(c,[f],a,u.cb,!0),o&&e(c,[o],a,u.cb)),u.cb(n,t))}}function a(){function dt(i,r,u,f){var s,e,y=it(n),p=lt(n);if(i=at?i+"."+at:i,g||f)y&&t(p).off(i,d);else{if(o=y&&t._data(n))for(o=o&&o.events,o=o&&o[u?l:c],kt=o&&o.length;kt--;)if((nt=o[kt].data)&&nt.cb._cId===h._cId&&nt.ns===at){if(u)return;(r==="*"&&nt.prop!==r||nt.prop===a)&&t(n).off(i,d)}e=u?{}:{fullPath:v,paths:r?[r]:[],prop:a};e.ns=at;e.cb=h;ot&&(e.observeAll={_path:ot,path:function(){return s=ri.length,ot.replace(/[[.]/g,function(n){return s--,n==="["?"["+t.inArray(ri[s-1],ri[s]):"."})},parents:function(){return ri},filter:oi,ns:at});t(p).on(i,null,e,d);ni&&(ni[t.data(n,"obId")||t.data(n,"obId",ct++)]=n)}}function vi(n,t){n._ob=yt(n,rt);var i=rt;return function(u,f){var o=n._ob,c=t.length;typeof o===s&&(gt(o,!0),(c||vt&&r(o))&&e(vt,[o],t,h,yt,!0));o=n._ob=yt(n,i);typeof o===s&&(gt(o),(c||vt&&r(o))&&e(vt,[o],t,h,yt,[i]));h(u,f)}}function gt(t,u,e,o){if(vt){var s=n,c=ot;n=t;o&&(n=t[o],ot+="."+o,oi&&(n=f._fltr(o,t,ot,oi)));n&&(e||r(n))&&dt(l+".observe"+(h?".obs"+(bt=h._cId=h._cId||w++):""),i,!0,u);n=s;ot=c}}var wt,fi,si,et,a,v,ei,g,h,bt,kt,nt,o,yt,hi,ni,ti,ii,ri,ot,oi,at,ci,li,vt=this!=!1,ai=1,ui=ht,b=Array.apply(0,arguments),k=b.pop(),rt=b.shift(),pt=rt,n=pt,tt=b.length;for(rt+""===rt&&vt&&(at=rt,rt=n=pt=b.shift(),tt--),u(k)?h=k:(k+""===k&&(ot=k,ri=b.pop(),oi=b.pop(),k=b.pop(),tt=tt-3),k===!0?g=k:k&&(rt=k,ai=0),k=b[tt-1],(tt&&k===i||u(k))&&(h=b.pop(),tt--)),tt&&u(b[tt-1])&&(yt=h,h=b.pop(),tt--),ui+=g?h?".obs"+h._cId:"":".obs"+(bt=h._cId=h._cId||w++),g||(ni=y[bt]=y[bt]||{}),ci=at&&at.match(st)||[""],li=ci.length;li--;)for(at=ci[li],r(pt)?gt(pt,g,!0):g&&tt===0&&pt&&dt(ui,""),ti=0,wt=0;wt<tt;wt++)if(v=b[wt],v!==""){if(n=pt,""+v===v){if(et=v.split("^"),et[1]&&(ti=et[0].split(".").length,v=et.join("."),ti=v.split(".").length-ti),yt&&(hi=yt(v,pt))){tt+=hi.length-1;p.apply(b,[wt--,1].concat(hi));continue}et=v.split(".")}else ai&&!u(v)&&(v._jsvOb&&(ii=vi(v,b.slice(wt+1)),ii.noArray=!vt,ii._cId=h._cId,e(vt,[rt],b.slice(0,wt),ii,yt),ii=i,v=v._ob),n=v),pt=v,et=[pt];while(n&&(a=et.shift())!==i)if(typeof n===s){if(""+a===a){if(a==="")continue;if(et.length<ti+1&&!n.nodeType){if(!g&&(o=it(n)&&t._data(n))){for(o=o.events,o=o&&o[c],kt=o&&o.length,si=0;kt--;)nt=o[kt].data,nt&&nt.cb===h&&nt.ns===at&&(nt.prop===a||nt.prop==="*")&&((fi=et.join("."))&&nt.paths.push(fi),si++);if(si){n=n[a];continue}}if(a==="*"){!g&&o&&o.length&&dt(ui,"",!1,!0);u(n)?(ei=n.depends)&&e(vt,[ei],h,g||rt):dt(ui,"");for(fi in n)gt(n,g,i,fi);break}else a&&dt(ui+"."+a,et.join("."))}ot&&(ot+="."+a);a=n[a]}if(u(a)){(ei=a.depends)&&e(vt,[n],ut(ei,n),h,yt,g||[rt]);break}n=a}gt(n,g)}return bt&&ft(ni,bt),{cbId:bt,bnd:ni}}function at(){return[].push.call(arguments,!0),a.apply(this,arguments)}function e(){var n=[].concat.apply([],arguments);return a.apply(n.shift(),n)}function et(n,t,i){return i.indexOf(".")<0&&i.indexOf("[")<0&&t[n]}function vt(n,r,u,f,e){return f=f||et,e=e||et,{getTgt:n,obsSrc:r,obsTgt:u,map:function(i){var o=this,h,c;return o.src!==i&&(o.src&&o.unmap(),typeof i===s&&(c=n.apply(o,arguments),t.observable&&(t.observable(i).observeAll(o.obs=function(n,t){!h&&r&&(h=!0,r.call(o,i,c,n,t),h=!1)},f),t.observable(c).observeAll(o.obt=function(n,t){!h&&u&&(h=!0,u.call(o,i,c,n,t),h=!1)},e)),o.src=i,o.tgt=c)),o},unmap:function(){if(t.observable){var n=this;n.src&&(t.observable(n.src).unobserveAll(n.obs,f),t.observable(n.tgt).unobserveAll(n.obt,e),n.src=n.tgt=i)}}}}function g(n,t,i,r){n+""!==n&&(i=t,t=n,n="");v(n,this._data,t,i,[],"root",r)}function ot(n,t,i){g.call(this,n,t,i,!0)}function v(n,t,u,e,o,h,c){function p(t,i){for(y=t.length,l=h+"[]";y--;)(k=f._fltr(y,t,l,e))&&v(n,k,u,e||"",o.slice(),l,i)}function d(t,i){h=t.data.observeAll._path;var r=o;o[0]!==t.target&&(o=o.slice(),o.unshift(t.target));switch(i.change){case"insert":p(i.items);break;case"remove":p(i.items,!0);break;case"refresh":p(i.oldItems,!0);p(t.target);break;case"set":l=h+"."+i.path;v(n,i.oldValue,u,0,o.slice(),l,!0);v(n,i.value,u,0,o.slice(),l)}u.apply(this,arguments);o=r}var y,b,l,k;if(typeof t===s)if(b=r(t)?"":"*",o.unshift(t),u?(b||e!==0)&&(d._cId=u._cId=u._cId||w++,a(n,t,b,d,c,e,o.slice(),h)):a(n,t,b,i,c,e,o.slice(),h),b)for(y in t)y.charAt(0)!=="_"&&y!==tt&&(l=h+"."+y,(k=f._fltr(y,t,l,e))&&v(n,k,u,e||0,o.slice(),l,c));else p(t,c)}if(!t)throw"jsViews/jsObservable require jQuery";if(!t.observable){var nt=t.event.special,o=t.views?t.views.sub:f.sub={},p=[].splice,r=t.isArray,tt=t.expando,s="object",h=parseInt,st=/\S+/g,c=o.propChng=o.propChng||"propertyChange",l=o.arrChng=o.arrChng||"arrayChange",y=o._cbBnds=o._cbBnds||{},ht=c+".observe",u=t.isFunction,ct=1,w=1,it=t.hasData,rt={};o.getDeps=function(){var n=arguments;return function(){for(var i,t,r=[],f=n.length;f--;)i=n[f--],t=n[f],t&&(r=r.concat(u(t)?t(i,i):t));return r}};o.DataMap=vt;t.observable=f;f._fltr=function(n,t,i,r){var f=r&&u(r)?r(n,t,i):t[n];return f&&(f=u(f)?f.set&&f.call(t):f),typeof f===s&&f};f.Object=b;f.Array=k;t.observe=f.observe=a;t.unobserve=f.unobserve=at;f._apply=e;b.prototype={_data:null,observeAll:g,unobserveAll:ot,data:function(){return this._data},setProperty:function(n,t,u){var f,h,s,o=this,e=o._data;if(n=n||"",e)if(r(n))for(f=n.length;f--;)h=n[f],o.setProperty(h.name,h.value,u===i||u);else if(""+n!==n)for(f in n)o.setProperty(f,n[f],t);else if(n!==tt){for(s=n.split(".");e&&s.length>1;)e=e[s.shift()];e&&o._setProperty(e,s[0],t,u)}return o},removeProperty:function(n){return this.setProperty(n,rt),this},_setProperty:function(n,t,r,f){var o,s,h,e=t?n[t]:n;u(e)&&e.set&&(s=e,o=e.set===!0?e:e.set,e=e.call(n));(e!==r||f&&e!=r)&&(!(e instanceof Date)||e>r||e<r)&&(o?(o.call(n,r),r=s.call(n)):(h=r===rt)?(delete n[t],r=i):t&&(n[t]=r),this._trigger(n,{change:"set",path:t,value:r,oldValue:e,remove:h}))},_trigger:function(n,i){t(n).triggerHandler(c,i)}};k.prototype={_data:null,observeAll:g,unobserveAll:ot,data:function(){return this._data},insert:function(n,t){var i=this._data;return arguments.length===1&&(t=n,n=i.length),n=h(n),n>-1&&n<=i.length&&(t=r(t)?t:[t],t.length&&this._insert(n,t)),this},_insert:function(n,t){var i=this._data,r=i.length;p.apply(i,[n,0].concat(t));this._trigger({change:"insert",index:n,items:t},r)},remove:function(n,t){var r,u=this._data;return n===i&&(n=u.length-1),n=h(n),t=t?h(t):t===0?0:1,t>-1&&n>-1&&(r=u.slice(n,n+t),t=r.length,t&&this._remove(n,t,r)),this},_remove:function(n,t,i){var r=this._data,u=r.length;r.splice(n,t);this._trigger({change:"remove",index:n,items:i},u)},move:function(n,t,i){if(i=i?h(i):i===0?0:1,n=h(n),t=h(t),i>0&&n>-1&&t>-1&&n!==t){var r=this._data.slice(n,n+i);i=r.length;i&&this._move(n,t,i,r)}return this},_move:function(n,t,i,r){var u=this._data,f=u.length;u.splice(n,i);u.splice.apply(u,[t,0].concat(r));this._trigger({change:"move",oldIndex:n,index:t,items:r},f)},refresh:function(n){var t=this._data.slice();return this._refresh(t,n),this},_refresh:function(n,t){var i=this._data,r=i.length;p.apply(i,[0,i.length].concat(t));this._trigger({change:"refresh",oldItems:n},r)},_trigger:function(n,i){var r=this._data,u=r.length,f=t([r]);f.triggerHandler(l,n);u!==i&&f.triggerHandler(c,{change:"set",path:"length",value:u,oldValue:i})}};nt[c]=nt[l]={remove:function(n){var r,u,f,e,o,i=n.data;if(i&&(i.off=1,i=i.cb)&&(r=y[i._cId])){for(f=t._data(this).events[n.type],e=f.length;e--&&!u;)u=(o=f[e].data)&&o.cb===i;u||(delete r[t.data(this,"obId")],ft(r,i._cId))}}}}}(this,this.jQuery),function(n,t,i){"use strict";function k(n,r,u){var w,nt,l,e,b,a,o,k,s,v,it,d,g,f,h,y,p=n.target,rt=p._jsvBnd,ut=/&(\d+)\+?/g;if(rt)while(v=ut.exec(rt))if((v=c[v[1]])&&(h=v.to)){if(e=v.linkCtx,s=e.view,f=e.tag,k=t(p),d=s.hlp(kt),g=s.hlp(dt),l=ht(p),w=ti[l],u===i&&(u=et(l)?l(p):w?k[w]():k.attr(l)),a=h[1],h=h[0],a&&(b=et(a)?a:s.getRsc("converters",a)),b&&(u=b.call(f,u)),it=s.linkCtx,s.linkCtx=e,y={change:"change",oldValue:e._val,value:u},(!d||!(nt=d.call(e,n,y)===!1))&&(!f||!f.onBeforeChange||!(nt=f.onBeforeChange(n,y)===!1))&&u!==i&&(o=h[0],u!==i&&o)){if(o=o._jsvOb?o._ob:o,f&&(f._.chging=!0),tt(o).setProperty(h[2]||h[1],u),g&&g.call(e,n,y),f){if(f.onAfterChange)f.onAfterChange(n,y);delete f._.chging}e._val=u}s.linkCtx=it}return!1}function ur(n){var t=f.noValidate;f.noValidate=!0;k(n);f.noValidate=t}function cu(n,t,u){var c,f,e,p,o=this,y=o.data,a=o.elem,l=o.convert,b=a.parentNode,s=o.view,w=s.linkCtx,v=s.hlp(kt);if(s.linkCtx=o,b&&(!v||!(t&&v.call(o,n,t)===!1))&&!(t&&n.data.prop!=="*"&&n.data.prop!==t.path)){if(t&&(o.eventArgs=t),t||o._initVal){if(delete o._initVal,f=u.call(s.tmpl,y,s,r),c=lu(f,o,e=o.tag,o.attr||ht(a,!0,l!==i)),f&&f.error!==i)f=f.error;else if(e){if(f=f[0]?f:[f],p=t&&e.onUpdate&&e.onUpdate(n,t,f)===!1,vr(e,f),p||c==="none"){c===h&&e.onBeforeLink&&e.onBeforeLink();at(e,e.tagCtx);hi(o,y,a);s.linkCtx=w;return}if(e._.chging)return;f=e.tagName===":"?r._cnvt(e.cvt,s,f[0]):r._tag(e,s,s.tmpl,f,!0)}else u._tag&&(l=l===""?"true":l,f=l?r._cnvt(l,s,f):r._tag(u._tag,s,s.tmpl,f,!0),e=o.tag,c=o.attr||c);fr(f,o,c,e)&&t&&(v=s.hlp(dt))&&v.call(o,n,t);e&&at(e,e.tagCtx)}hi(o,y,a);s.linkCtx=w}}function lu(n,r,u,f){var e,h,c,o,s=u&&u.parentElem||r.elem;if(n!==i){if(o=t(s),f=u&&u.attr||f,et(n)&&nt(r.expr+": missing parens"),f==="visible"&&(f="css-display"),c=/^css-/.test(f)&&f.slice(4))e=t.style(s,c),+n===n&&(e=parseInt(e));else if(f!=="link"){if(f==="value")s.type===gt&&(e=o.prop(f=b));else if(f===st)if(s.value===""+n)e=o.prop(b);else return f;e===i&&(h=ti[f],e=h?o[h]():o.attr(f))}r._val=e}return f}function fr(n,r,u,f){var tt,o,c,k,it,p,a,w,v,y,d=n!==i,rt=r.data,e=f&&f.parentElem||r.elem,g=t(e),s=r.view,nt=r._val,ut=s.ctx,ft=s.linkCtx,l=f||u===h;if(f&&(f.parentElem=f.parentElem||r.expr||f._elCnt?e:e.parentNode,o=f._prv,c=f._nxt),!d){u===h&&f&&f.onBeforeLink&&f.onBeforeLink();return}if(/^css-/.test(u))r.attr==="visible"&&(n=n?au(e):"none"),(l=l||nt!==n)&&t.style(e,u.slice(4),n);else if(u!=="link"){if(u===b)p=1,n=n&&n!=="false";else if(u===st)if(e.value===""+n)n=!0,p=1,u=b;else{hi(r,rt,e);return}else(u==="selected"||u==="disabled"||u==="multiple"||u==="readonly")&&(n=n&&n!=="false"?u:null);(tt=ti[u])?u===h?(s.linkCtx=r,s.ctx=r.ctx,f&&f._.inline?(it=f.nodes(!0),f._elCnt&&(o&&o!==c?vi(o,c,e,f._tgId,"^",!0):(a=e._dfr)&&(w=f._tgId+"^",v=a.indexOf("#"+w)+1,y=a.indexOf("/"+w),v&&y>0&&(v+=w.length,y>v&&(e._dfr=a.slice(0,v)+a.slice(y),pr(a.slice(v,y))))),o=o?o.previousSibling:c?c.previousSibling:e.lastChild),t(it).remove(),f&&f.onBeforeLink&&f.onBeforeLink(),k=s.link(s.data,e,o,c,n,f&&{tag:f._tgId,lazyLink:f.tagCtx.props.lazyLink})):(d&&g.empty(),f&&f.onBeforeLink&&f.onBeforeLink(),d&&(k=s.link(rt,e,o,c,n,f&&{tag:f._tgId}))),s.linkCtx=ft,s.ctx=ut):(l=l||nt!==n)&&(u==="text"&&e.children&&!e.children[0]?e.textContent!==i?e.textContent=n:e.innerText=n===null?"":n:g[tt](n)):(l=l||nt!==n)&&g[p?"prop":"attr"](u,n===i&&!p?null:n);r._val=n}return k||l}function er(n,t){var i=this,r=i.hlp(kt),u=i.hlp(dt);if(!r||r.call(this,n,t)!==!1){if(t){var o=t.change,f=t.index,e=t.items;switch(o){case"insert":i.addViews(f,e);break;case"remove":i.removeViews(f,e.length);break;case"move":i.refresh();break;case"refresh":i.refresh()}}u&&u.call(this,n,t)}}function au(t){var i,u,f=n.getComputedStyle,r=(t.currentStyle||f.call(n,t,"")).display;return r!=="none"||(r=tr[u=t.nodeName])||(i=e.createElement(u),e.body.appendChild(i),r=(f?f.call(n,i,""):i.currentStyle).display,tr[u]=r,e.body.removeChild(i)),r}function oi(n){var f,e,u=n.data,r=n._.bnd;if(!n._.useKey&&r)if((e=n._.bndArr)&&(t([e[1]]).off(bt,e[0]),n._.bndArr=i),r!==!!r&&r._.inline)u?r._.arrVws[n._.id]=n:delete r._.arrVws[n._.id];else if(u){f=function(t){t.data&&t.data.off||er.apply(n,arguments)};t([u]).on(bt,f);n._.bndArr=[f,u]}}function ht(n,t,i){var u=n.nodeName.toLowerCase(),r=f.merge[u]||n.contentEditable==="true"&&{to:h,from:h};return r?t?u==="input"&&n.type===st?st:r.to:r.from:t?i?"text":h:""}function or(n,r,u,f,e,o,s){var p,c,v,w,b,l=n.parentElem,h=n._prv,a=n._nxt,y=n._elCnt;if(h&&h.parentNode!==l&&nt("Missing parentNode"),s){w=n.nodes();y&&h&&h!==a&&vi(h,a,l,n._.id,"_",!0);n.removeViews(i,i,!0);c=a;y&&(h=h?h.previousSibling:a?a.previousSibling:l.lastChild);t(w).remove();for(b in n._.bnds)yt(b)}else{if(r){if(v=f[r-1],!v)return!1;h=v._nxt}y?(c=h,h=c?c.previousSibling:l.lastChild):c=h.nextSibling}p=u.render(e,o,n._.useKey&&s,n,s||r,!0);n.link(e,l,h,c,p,v)}function si(n,t,r){var u,f,e;return r?(e="^`",f=t._.tag||{_:{inline:!0,bnd:r},tagCtx:{view:t},flow:!0},u=f._tgId,u||(c[u=ir++]=f,f._tgId=""+u)):(e="_`",y[u=t._.id]=t),"#"+u+e+(n!=i?n:"")+"/"+u+e}function hi(n,t,r){var e,l,f,u=n.tag,a=n.convertBack,o=[],h=n._bndId||""+ir++,v=n._hdlr;if(delete n._bndId,u&&(o=u.depends||o,o=et(o)?u.depends(u):o,f=u.linkedElem),(!n._depends||""+n._depends!=""+o)&&(n._depends&&tt._apply(!1,[t],n._depends,v,!0),e=tt._apply(!1,[t],n.fn.paths,o,v,n._ctxCb),e.elem=r,e.linkCtx=n,e._tgId=h,r._jsvBnd=r._jsvBnd||"",r._jsvBnd+="&"+h,n._depends=o,n.view._.bnds[h]=h,c[h]=e,f&&(e.to=[[],a]),(f||a!==i)&&ar(e,u&&u.convertBack||a),u)){if(u.onAfterBind)u.onAfterBind(e);u.flow||u._.inline||(r.setAttribute(s,(r.getAttribute(s)||"")+"#"+h+"^/"+h+"^"),u._tgId=""+h)}if(f&&f[0])for(u._.radio&&(f=f.children("input[type=radio]")),l=f.length;l--;)f[l]._jsvBnd=f[l]._jsvBnd||r._jsvBnd+"+",f[l]._jsvLnkdEl=u}function sr(n,t,i,r,u,f,e){return ci(this,n,t,i,r,u,f,e)}function ci(n,r,u,f,o,s,h,c){if(n&&r){if(r=r.jquery?r:t(r),!d){d=e.body;t(d).on(bi,k).on("blur","[contenteditable]",ur)}for(var p,nt,tt,b,v,w,l,it,rt=si,ft=f&&f.target==="replace",ut=r.length;ut--;)if(l=r[ut],""+n===n)v=g(l),it=v.ctx,v.ctx=f,ct(n,l,v,u),v.ctx=it;else{if(s=s||g(l),n.markup!==i)s.link===!1&&(f=f||{},f.link=rt=!1),ft&&(w=l.parentNode),tt=n.render(u,f,o,s,i,rt),w?(h=l.previousSibling,c=l.nextSibling,t.cleanData([l],!0),w.removeChild(l),l=w):(h=c=i,t(l).empty());else if(n!==!0)break;if(l._dfr&&!c){for(b=a(l._dfr,1,rr),p=0,nt=b.length;p<nt;p++)v=b[p],(v=y[v.id])&&v.data!==i&&v.parent.removeViews(v._.key,i,!0);l._dfr=""}s.link(u,l,h,c,tt,i,f)}}return r}function vu(n,r,u,h,l,w,b,k){function eu(n,t,r,u,e,o,h,c,a,v,y,p,w){var b,k="";return w?(ii=0,n):(d=c||a||"",u=u||v,r=r||p,li&&!r&&(u||d||o)&&(li=i,rt=kt.shift()),u=u||r,u&&(ii=0,li=i,f.noValidate||(r||p?ei[rt]||/;svg;|;math;/.test(";"+kt.join(";")+";")||(b="'<"+rt+".../"):ei[u]?b="'<\/"+u:kt.length&&u===rt||(b="Mismatch: '<\/"+u),b&&ri(b+">' in:\n"+l)),rr=ut,rt=kt.shift(),ut=fi[rt],v=v?"<\/"+v+">":"",rr&&(ht+=yt,yt="",ut?ht+="-":(k=v+di+"@"+ht+ki+(y||""),ht=iu.shift()))),ut?(o?yt+=o:t=v||p||"",d&&(t+=d,yt&&(t+=" "+s+'="'+yt+'"',yt=""))):t=o?t+k+e+di+o+ki+h+d:k||n,ii&&o&&ri(" No {^{ tags within elem markup ("+ii+' ). Use data-link="..."'),d&&(ii=d,kt.unshift(rt),rt=d.slice(1),kt[0]&&kt[0]===ru[rt]&&nt("Parent of <tr> must be <tbody>"),li=ei[rt],(ut=fi[rt])&&!rr&&(iu.unshift(ht),ht=""),rr=ut,ht&&ut&&(ht+="+")),t)}function yi(n,t){var o,l,u,e,f,a,s,h=[];if(n){for(n._tkns.charAt(0)==="@"&&(t=tt.previousSibling,tt.parentNode.removeChild(tt),tt=i),wt=n.length;wt--;){if(ot=n[wt],u=ot.ch,o=ot.path)for(et=o.length-1;l=o.charAt(et--);)l==="+"?o.charAt(et)==="-"?(et--,t=t.previousSibling):t=t.parentNode:t=t.lastChild;u==="^"?(d=c[f=ot.id])&&(s=t&&(!tt||tt.parentNode!==t),(!tt||s)&&(d.parentElem=t),ot.elCnt&&s&&(t._dfr=(ot.open?"#":"/")+f+u+(t._dfr||"")),h.push([s?null:tt,ot])):(it=y[f=ot.id])&&(it.parentElem||(it.parentElem=t||tt&&tt.parentNode||r,it._.onRender=si,it._.onArrayChange=er,oi(it)),e=it.parentElem,ot.open?(it._elCnt=ot.elCnt,t?t._dfr="#"+f+u+(t._dfr||""):(it._prv||(e._dfr=lt(e._dfr,"#"+f+u)),it._prv=tt)):(t&&(!tt||tt.parentNode!==t)?(t._dfr="/"+f+u+(t._dfr||""),it._nxt=i):tt&&(it._nxt||(e._dfr=lt(e._dfr,"/"+f+u)),it._nxt=tt),hi=it.linkCtx,(a=it.ctx&&it.ctx.onAfterCreate||hu)&&a.call(hi,it)))}for(wt=h.length;wt--;)vi.push(h[wt])}return!n||n.elCnt}function ou(n){var t,i;if(n)for(wt=n.length,et=0;et<wt;et++)if(ot=n[et],vt.id)vt.id=vt.id!==ot.id&&vt.id;else if(i=d=c[ot.id].linkCtx.tag,!d.flow){if(!ar){for(t=1;i=i.parent;)t++;tr=tr||t}(ar||t===tr)&&(!vr||d.tagName===vr)&&hr.push(d)}}function wr(){for(or=ui?r.querySelectorAll(ft):t(ft,r).get(),gt=or.length,u&&u.innerHTML&&(wi=ui?u.querySelectorAll(ft):t(ft,u).get(),u=wi.length?wi[wi.length-1]:u),tr=0,pt=0;pt<gt;pt++)if(tt=or[pt],u&&!gr)gr=tt===u;else if(h&&tt===h)break;else tt.parentNode&&uu(a(tt,i,hr&&su))&&!vt&&tt.getAttribute(v)&&vi.push([tt]);if(fr===p&&l===i&&r.getAttribute(v)&&vi.push([r]),cr(u,ut),cr(h,ut),vt){bt&&bt.resolve();return}for(ut&&ht+yt&&(tt=h,ht&&(h?yi(a(ht+"+",1),h):yi(a(ht,1),r)),yi(a(yt,1),r),h&&(st=h.getAttribute(s),(gt=st.indexOf(ur)+1)&&(st=st.slice(gt+ur.length-1)),h.setAttribute(s,yt+st))),gt=vi.length,pt=0;pt<gt;pt++)tt=vi[pt],dt=tt[1],tt=tt[0],dt?(d=c[dt.id])&&((hi=d.linkCtx)&&(d=hi.tag,d.linkCtx=hi),dt.open?(tt&&(d.parentElem=tt.parentNode,d._prv=tt),d._elCnt=dt.elCnt,!d||d.onBeforeLink&&d.onBeforeLink()===!1||d._.bound||(d._.bound=!0,it=d.tagCtx.view,ct(i,d._prv,it,n,dt.id)),d._.linking=!0):(d._nxt=tt,d._.linking&&(yr=d.tagCtx,it=yr.view,delete d._.linking,d._.bound||(d._.bound=!0,ct(i,d._prv,it,n,dt.id)),at(d,yr)))):(it=g(tt),ct(tt.getAttribute(v),tt,it,n,i,b));bt&&bt.resolve()}var ii,hi,d,pt,gt,et,wt,or,tt,it,ot,dt,wi,bi,sr,gi,ni,hr,ar,vr,yr,tr,vt,br,pr,kr,ci,rt,li,ai,ir,st,ut,rr,ti,yt,ur,gr,bt,fr=this,nu=fr._.id+"_",ht="",vi=[],kt=[],iu=[],hu=fr.hlp(dr),uu=yi;if(w&&(bt=w.lazyLink&&t.Deferred(),w.tmpl?sr="/"+w._.id+"_":(vt=w.get,w.tag&&(nu=w.tag+"^",w=!0)),w=w===!0),vt&&(uu=ou,hr=vt.tags,ar=vt.deep,vr=vt.name),r=r?""+r===r?t(r)[0]:r.jquery?r[0]:r:fr.parentElem||e.body,rt=r.tagName.toLowerCase(),ut=!!fi[rt],u=u&&lr(u,ut),h=h&&lr(h,ut)||null,l!=i){if(ir=e.createElement("div"),ai=ir,ur=yt="",ti=r.namespaceURI==="http://www.w3.org/2000/svg"?"svg_ns":(ci=tu.exec(l))&&ci[1]||"",pi&&ci&&ci[2]&&nt("Unsupported: "+ci[2]),ut){for(ni=h;ni&&!(gi=a(ni));)ni=ni.nextSibling;(st=gi?gi._tkns:r._dfr)&&(bi=sr||"",(w||!sr)&&(bi+="#"+nu),et=st.indexOf(bi),et+1&&(et+=bi.length,ur=yt=st.slice(0,et),st=st.slice(et),gi?ni.setAttribute(s,st):r._dfr=st))}if(li=i,l=(""+l).replace(fu,eu),!f.noValidate&&kt.length&&ri("Mismatched '<"+rt+"...>' in:\n"+l),k)return;for(nr.appendChild(ir),ti=o[ti]||o.div,br=ti[0],ai.innerHTML=ti[1]+l+ti[2];br--;)ai=ai.lastChild;for(nr.removeChild(ir),pr=e.createDocumentFragment();kr=ai.firstChild;)pr.appendChild(kr);r.insertBefore(pr,h)}return bt?setTimeout(wr,0):wr(),bt&&bt.promise()}function ct(n,t,r,f,e,o){var b,v,p,s,k,d,y,w,a,l,g;if(f=r.data===i?f||{}:r.data,e)l=c[e],l=l.linkCtx?l.linkCtx.tag:l,a=l.linkCtx||{data:f,elem:l._elCnt?l.parentElem:t,view:r,ctx:r.ctx,attr:h,fn:l._.bnd,tag:l,_bndId:e},hr(a,a.fn);else if(n&&t)for(b=r.tmpl,n=yu(n,ht(t)),it.lastIndex=0;v=it.exec(n);)g=it.lastIndex,p=e?h:v[1],y=v[3],k=v[10],s=i,a={data:f,elem:t,view:r,ctx:o||r.ctx,attr:p,_initVal:!v[2]},v[6]&&(!p&&(s=/:([\w$]*)$/.exec(k))&&(s=s[1],s!==i&&(d=-s.length-1,y=y.slice(0,d-1)+rt)),s===null&&(s=i),a.convert=v[5]||""),a.expr=p+y,w=b.links[y],w||(b.links[y]=w=u.tmplFn(y,b,!0,s)),a.fn=w,p||s===i||(a.convertBack=s),hr(a,w),it.lastIndex=g}function hr(n,t){function i(i,r){cu.call(n,i,r,t)}i.noArray=!0;n._ctxCb=pu(n.view);n._hdlr=i;i(!0)}function lt(n,t){var i;return n?(i=n.indexOf(t),i+1?n.slice(0,i)+n.slice(i+t.length):n):""}function li(n){return n&&(""+n===n?n:n.tagName==="SCRIPT"?n.type.slice(3):n.nodeType===1&&n.getAttribute(s)||"")}function a(n,t,i){function e(n,t,i,r,e,o){u.push({elCnt:f,id:r,ch:e,open:t,close:i,path:o,token:n})}var f,r,u=[];if(r=t?n:li(n))return u.elCnt=!n.type,f=r.charAt(0)==="@"||!n.type,u._tkns=r,r.replace(i||hu,e),u}function cr(n,t){n&&(n.type==="jsv"?n.parentNode.removeChild(n):t&&n.getAttribute(v)===""&&n.removeAttribute(v))}function lr(n,t){for(var i=n;t&&i&&i.nodeType!==1;)i=i.previousSibling;return i&&(i.nodeType!==1?(i=e.createElement("SCRIPT"),i.type="jsv",n.parentNode.insertBefore(i,n)):li(i)||i.getAttribute(v)||i.setAttribute(v,"")),i}function yu(n,i){return n=t.trim(n).replace(iu,"\\$&"),n.slice(-1)!==rt?n=wt+":"+n+(i?":":"")+rt:n}function at(n,r){var e,f,a,s,h,p,w,v,y,o,d=r.view,l=n.linkCtx=n.linkCtx||{tag:n,data:d.data,view:d,ctx:d.ctx};if(n.onAfterLink)n.onAfterLink(r,l);if(e=n.targetTag?n.targetTag.linkedElem:n.linkedElem,(f=e&&e[0])&&((a=n._.radio)&&(e=e.children("input[type=radio]")),a||!n._.chging)){if(s=u.cvt(n,n.convert)[0],a||f!==l.elem){for(w=e.length;w--;){if(f=e[w],v=f._jsvLnkdEl,n._.inline&&(!v||v!==n&&v.targetTag!==n))for(f._jsvLnkdEl=n,h=l.elem?l.elem._jsvBnd:n._prv._jsvBnd,f._jsvBnd=h+"+",h=h.slice(1).split("&"),p=h.length;p--;)ar(c[h[p]],n.convertBack);a&&(f[b]=s===f.value)}l._val=s}a||f.value===i||s===i||(f.type===gt?f[b]=s&&s!=="false":e.val(s))}(f=f||n.tagName===":"&&l.elem)&&(y=f._jsvTr,o=r.props.trigger,o=o===!0?"keyup":o,y!==o&&(f._jsvTr=o,f=t(f),y&&f.off(y,k),o&&f.on(o,k)))}function ar(n,t){var e,f,s,i,o,r=n.linkCtx,h=r.data,u=r.fn.paths;if(n){for((e=u._jsvto)&&(u=e),f=u.length;f&&""+(i=u[--f])!==i;);i&&(!r.tag||r.tag.tagCtx.args.length)?(i=i.split("^").join("."),n.to=i.charAt(0)==="."?[[o=u[f-1],i.slice(1)],t]:[r._ctxCb(s=f?u[0].split("^").join("."):i)||[h,s],t],e&&o&&(n.to[0][0]=r._ctxCb(o,h))):n.to=[[],t]}}function vr(n,i){var u,f,e=n.tagCtx.view,o=n.tagCtxs||[n.tagCtx],s=o.length,h=!i;for(i=i||n._.bnd.call(e.tmpl,(n.linkCtx||e).data,e,r);s--;)u=o[s],f=i[s],t.observable(u.props).setProperty(f.props),l(u.ctx,f.ctx),u.args=f.args,h&&(u.tmpl=f.tmpl);return o}function vt(n){for(var u,t,i,f=[],e=n.length,r=e;r--;)f.push(n[r]);for(r=e;r--;)if(t=f[r],t.parentNode){if(i=t._jsvBnd)for(i=i.slice(1).split("&"),t._jsvBnd="",u=i.length;u--;)yt(i[u],t._jsvLnkdEl,t);pr(li(t)+(t._dfr||""))}}function yt(n,r,f){var v,h,e,l,a,y,p,w,o,b,s=c[n];if(r)f===r.linkedElem[0]&&(delete f._jsvLnkdEl,delete r.linkedElem);else if(s){delete c[n];for(v in s.bnd)l=s.bnd[v],a=".obs"+s.cbId,t.isArray(l)?t([l]).off(bt+a).off(wi+a):t(l).off(wi+a),delete s.bnd[v];if(h=s.linkCtx){if(e=h.tag){if(y=e.tagCtxs)for(p=y.length;p--;)(w=y[p].map)&&w.unmap();o=e.linkedElem;o=o&&o[0]||h.elem;(b=o&&o._jsvTr)&&(t(o).off(b,k),o._jsvTr=i);e.onDispose&&e.onDispose();e._elCnt||(e._prv&&e._prv.parentNode.removeChild(e._prv),e._nxt&&e._nxt.parentNode.removeChild(e._nxt))}delete h.view._.bnds[n]}delete u._cbBnds[s.cbId]}}function ai(n,r){return n===i?(d&&(t(d).off(bi,k).off("blur","[contenteditable]",ur),d=i),n=!0,p.removeViews(),vt(e.body.getElementsByTagName("*"))):r&&n===!0&&(r=r.jquery?r:t(r),r.each(function(){for(var n;(n=g(this,!0))&&n.parent;)n.parent.removeViews(n._.key,i,!0);vt(this.getElementsByTagName("*"));vt([this])})),r}function yr(n,t){return ai(this,n,t)}function pu(n){return n=n||t.view(),function(t,i){var f,u,e=[i];if(n&&t){if(t._jsvOb)return t._jsvOb.call(n.tmpl,i,n,r);if(t.charAt(0)==="~")return t.slice(0,4)==="~tag"&&(u=n.ctx,t.charAt(4)==="."&&(f=t.slice(5).split("."),u=u.tag),f)?u?[u,f.join("."),i]:[]:(t=t.slice(1).split("."),(i=n.hlp(t.shift()))&&(t.length&&e.unshift(t.join(".")),e.unshift(i)),i?e:[]);if(t.charAt(0)==="#")return t==="#data"?[]:[n,t.replace(uu,""),i]}}}function wu(n){return n.type===gt?n[b]:n.value}function vi(n,t,i,r,u,f){var v,h,p,o,b,l,e,w=0,k=n===t;if(n){for(p=a(n)||[],v=0,h=p.length;v<h;v++){if(o=p[v],l=o.id,l===r&&o.ch===u)if(f)h=0;else break;k||(b=o.ch==="_"?y[l]:c[l].linkCtx.tag,o.open?b._prv=t:o.close&&(b._nxt=t));w+=l.length+2}w&&n.setAttribute(s,n.getAttribute(s).slice(w));e=t?t.getAttribute(s):i._dfr;(h=e.indexOf("/"+r+u)+1)&&(e=p._tkns.slice(0,w)+e.slice(h+(f?-1:r.length+1)));e&&(t?t.setAttribute(s,e):i._dfr=e)}else i._dfr=lt(i._dfr,"#"+r+u),f||t||(i._dfr=lt(i._dfr,"/"+r+u))}function pr(n){var r,f,t,u;if(u=a(n,1,eu))for(r=0,f=u.length;r<f;r++)t=u[r],t.ch==="_"?(t=y[t.id])&&t.data!==i&&t.parent.removeViews(t._.key,i,!0):yt(t.id)}function bu(n,i,r,u){switch(u.change){case"set":for(var f=i.length;f--;)if(i[f].key===u.path)break;f===-1?u.path&&t.observable(i).insert({key:u.path,prop:u.value}):u.remove?t.observable(i).remove(f):t.observable(i[f]).setProperty("prop",u.value)}}function ku(n,i,r,u){var f;switch(u.change){case"set":u.path==="prop"?t.observable(n).setProperty(r.target.key,u.value):(t.observable(n).setProperty(u.oldValue,null),delete n[u.oldValue],t.observable(n).setProperty(u.value,r.target.prop));break;case"remove":f=u.items[0];t.observable(n).removeProperty(f.key);delete n[f.key];break;case"insert":f=u.items[0];f.key&&t.observable(n).setProperty(f.key,f.prop)}}function du(n,t,i){return i.indexOf(".")<0&&t[n]}var pt="JsViews requires ",d,g,it,wr,wt,rt,br,yi,pi,nt,v,ut,ft,o,p,y,e=n.document,r=t.views,u=r.sub,f=r.settings,l=u.extend,et=t.isFunction,kr=r.converters,w=r.tags,tt=t.observable,ot=tt.observe,s="data-jsv",wi=u.propChng=u.propChng||"propertyChange",bt=u.arrChng=u.arrChng||"arrayChange",bi="change.jsv",kt="onBeforeChange",dt="onAfterChange",dr="onAfterCreate",b="checked",gt="checkbox",st="radio",ki='"><\/script>',di='<script type="jsv',ni="script,["+s+"]",h="html",ti={value:"val",input:"val",html:h,text:"text"},gi={from:"value",to:"value"},ii=0,gr=t.cleanData,nu=f.delimiters,ri=u.syntaxErr,tu=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,iu=/['"\\]/g,nr=e.createDocumentFragment(),ui=e.querySelector,fi={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},ru={tr:"table"},ei={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},tr={},c={},ir=1,uu=/^#(view\.?)?/,fu=/(^|(\/>)|<\/(\w+)>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>))/g,rr=/(#)()(\d+)(_)/g,eu=/(#)()(\d+)([_^])/g,ou=/(?:(#)|(\/))(\d+)(_)/g,su=/(#)()(\d+)(\^)/g,hu=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g;if(!t)throw pt+"jQuery";if(!t.views)throw pt+"JsRender";if(!t.observable)throw pt+"jquery.observable";t.link||(ut={contents:function(n,r){n!==!!n&&(r=n,n=i);var f,u=t(this.nodes());return u[0]&&(f=r?u.filter(r):u,u=n&&r?f.add(u.find(r)):f),u},nodes:function(n,t,i){var r,u=this,f=u._elCnt,o=!t&&f,e=[];for(t=t||u._prv,i=i||u._nxt,r=o?t===u._nxt?u.parentElem.lastSibling:t:u._.inline===!1?t||u.linkCtx.elem.firstChild:t&&t.nextSibling;r&&(!i||r!==i);)(n||f||r.tagName!=="SCRIPT")&&e.push(r),r=r.nextSibling;return e},childTags:function(n,t){n!==!!n&&(t=n,n=i);var r=this,o=r.link?r:r.tagCtx.view,u=r._prv,f=r._elCnt,e=[];return u&&o.link(i,r.parentElem,f?u.previousSibling:u,r._nxt,i,{get:{tags:e,deep:n,name:t,id:f&&r._tgId}}),e},refresh:function(n){var u,f,t=this,e=t.linkCtx,o=t.tagCtx.view;return t.disposed&&nt("Removed tag"),n===i&&(n=r._tag(t,o,o.tmpl,vr(t),!0)),n+""===n&&(f=t._.inline?h:e.attr||ht(t.parentElem,!0),u=fr(n,e,f,t)),at(t,t.tagCtx),u||t},update:function(n){var t=this.linkedElem;t&&k({target:t[0]},i,n)}},l(u,{onStoreItem:function(n,i,r){r&&(n==="template"?(r.link=sr,r.unlink=yr,i&&(t.link[i]=function(){return sr.apply(r,arguments)},t.unlink[i]=function(){return yr.apply(r,arguments)})):n==="tag"&&u._lnk(r))},_lnk:function(n){return l(n,ut)},viewInfos:a}),(f.delimiters=function(){var n=nu.apply(r,arguments);return wr=n[0],wt=n[1],rt=n[2],br=n[3],yi=n[4],it=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+yi+")?(\\"+wt+u.rTag+"\\"+rt+")","g"),this})(),l(u._lnk(u.View.prototype),{addViews:function(n,t,i){var u,o,r=this,f=t.length,e=r.views;if(!r._.useKey&&f&&(i=r.tmpl)&&(o=e.length+f,or(r,n,i,e,t,r.ctx)!==!1))for(u=n+f;u<o;u++)tt(e[u]).setProperty("index",u);return r},removeViews:function(n,r,u){function o(n){var s,h,c,e,o,l,r=f[n];if(r&&r.link){if(s=r._.id,u||(l=r.nodes()),r.removeViews(i,i,!0),r.data=i,e=r._prv,o=r._nxt,c=r.parentElem,u||(r._elCnt&&vi(e,o,c,s,"_"),t(l).remove()),!r._elCnt)try{e.parentNode.removeChild(e);o.parentNode.removeChild(o)}catch(a){}oi(r);for(h in r._.bnds)yt(h);delete y[s]}}var e,l,s,h=this,c=!h._.useKey,f=h.views;if(c&&(s=f.length),n===i)if(c){for(e=s;e--;)o(e);h.views=[]}else{for(l in f)o(l);h.views={}}else if(r===i&&(c?r=1:(o(n),delete f[n])),c&&r){for(e=n+r;e-->n;)o(e);if(f.splice(n,r),s=f.length)while(n<s)tt(f[n]).setProperty("index",n++)}return this},refresh:function(n){var t=this,i=t.parent;return i&&(or(t,t.index,t.tmpl,i.views,t.data,n,!0),oi(t)),t},link:vu}),y={0:p=new u.View(i,"top")},kr.merge=function(n){var t,i=this.linkCtx._val||"",r=this.tagCtx.props.toggle;return r&&(t=r.replace(/[\\^$.|?*+()[{]/g,"\\$&"),t="(\\s(?="+t+"$)|(\\s)|^)("+t+"(\\s|$))",i=i.replace(new RegExp(t),"$2"),n=i+(n?(i&&" ")+r:"")),n},w("on",{attr:"none",onAfterLink:function(n,r){var e=this,o=n.args,c=n.props.data,s=n.view,h=o.pop(),f=n.props.context;if(f||(f=/^(.*)[\.^][\w$]+$/.exec(n.params.args.slice(-1)[0]),f=f&&u.tmplFn("{:"+f[1]+"}",s.tmpl,!0)(r.data,s)),h&&h.call){e._evs&&e.onDispose();t(r.elem).on(e._evs=o[0]||"click",e._sel=o[1],c==i?null:c,e._hlr=function(n){return h.call(f||r.data,n,{change:n.type,view:s,linkCtx:r}),!1})}},onDispose:function(){t(this.parentElem).off(this._evs,this._sel,this._hlr)},flow:!0}),l(w.for,{onArrayChange:function(n,t){var i,r=this,u=t.change;if(r.tagCtxs[1]&&(u==="insert"&&n.target.length===t.items.length||u==="remove"&&!n.target.length||u==="refresh"&&!t.oldItems.length!=!n.target.length))r.refresh();else for(i in r._.arrVws)i=r._.arrVws[i],i.data===n.target&&i._.onArrayChange.apply(i,arguments);n.done=!0},onAfterLink:function(){for(var u,o,i,f,e=this,r=e._ars||{},s=e.tagCtxs,c=s.length,h=e.selected||0,n=0;n<=h;n++)u=s[n],f=u.map?u.map.tgt:u.args.length?u.args[0]:u.view.data,(i=r[n])&&f!==i[0]&&(ot(i[0],i[1],!0),delete r[n]),!r[n]&&t.isArray(f)&&(ot(f,o=function(n,t){e.onArrayChange(n,t)}),r[n]=[f,o]);for(n=h+1;n<c;n++)(i=r[n])&&(ot(i[0],i[1],!0),delete r[n]);e._ars=r},onDispose:function(){var n,t=this;for(n in t._ars)ot(t._ars[n][0],t._ars[n][1],!0)}}),l(w.for,ut),l(w.if,ut),l(w.include,ut),w({props:t.extend({},w.for,u.DataMap(w.props.getTgt,bu,ku,i,du))}),l(t,{view:r.view=g=function(n,r,u){r!==!!r&&(u=r,r=i);var f,o,h,c,w,s,b,l,v=0,k=e.body;if(n&&n!==k&&p._.useKey>1&&(n=""+n===n?t(n)[0]:n.jquery?n[0]:n,n))if(r){for(l=ui?n.querySelectorAll(ni):t(ni,n).get(),s=l.length,h=0;h<s;h++)for(b=l[h],o=a(b,i,rr),c=0,w=o.length;c<w;c++)if(f=o[c],(f=y[f.id])&&(f=f&&u?f.get(!0,u):f,f))return f}else while(n){if(o=a(n,i,ou))for(s=o.length;s--;)if(f=o[s],f.open){if(v<1)return f=y[f.id],f&&u?f.get(u):f||p;v--}else v++;n=n.previousSibling||n.parentNode}return r?i:p},link:r.link=ci,unlink:r.unlink=ai,cleanData:function(n){n.length&&ii&&vt(n);gr.apply(t,arguments)}}),r.utility={validate:function(n){try{p.link(i,e.createElement("div"),i,i,n,i,i,1)}catch(t){return t.message}}},l(t.fn,{link:function(n,t,i,r,u,f,e){return ci(n,this,t,i,r,u,f,e)},unlink:function(n){return ai(n,this)},view:function(n){return g(this[0],n)}}),t.each([h,"replaceWith","empty","remove"],function(n,i){var r=t.fn[i];t.fn[i]=function(){var n;ii=1;try{n=r.apply(this,arguments)}finally{ii=0}return n}}),l(p,{tmpl:{links:{},tags:{}}}),p._.onRender=si,f({wrapMap:o={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],svg_ns:[1,"<svg>","<\/svg>"],div:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]},linkAttr:v="data-link",merge:{input:{from:wu,to:"value"},textarea:gi,select:gi,optgroup:{to:"label"}},jsrDbgMode:f.debugMode,debugMode:function(t){f.jsrDbgMode(t);t?n._jsv={views:y,bindings:c}:delete n._jsv},jsv:function(){f.debugMode(f._dbgMode);v=f.linkAttr;nt=r._err;ft=ni+",["+v+"]";pi=f.noDomLevel0;o.optgroup=o.option;o.tbody=o.tfoot=o.colgroup=o.caption=o.thead;o.th=o.td}}))}(this,this.jQuery);
/*
//# sourceMappingURL=jsviews.min.js.map
*/