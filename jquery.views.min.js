/*! jquery.views.js v1.0.1: http://jsviews.com/ */
!function(e,t){var n=t.jQuery;"object"==typeof exports?module.exports=n?e(t,n):function(n){return e(t,n)}:"function"==typeof define&&define.amd?define(["jquery","./jsrender","./jquery.observable"],function(n,i,r){return e(t,n,i,r)}):e(t,!1)}(function(e,t,n,i){"use strict";function r(e,t,n,i){var r,a,o,l,s,d,p,c,f,v,g,u,_,h,m,x,b,k,C;if(n&&n._tgId&&(C=n,n=C._tgId,C.bindTo||(S(st[n],C),C.bindTo=[0])),(d=st[n])&&(u=d.to)){for(u=u[t||0],r=d.linkCtx,f=r.elem,s=r.view,C=r.tag,!C&&u._cxp&&(C=u._cxp.path!==me&&u._cxp.tag,p=e[0],e=[],e[u._cxp.ind]=p),C&&(C._.chg=1,(o=C.convertBack)&&(a=ce(o)?o:s.getRsc("converters",o))),"SELECT"===f.nodeName&&(f.multiple&&null===e[0]&&(e=[[]]),f._jsvSel=e),c=e,a&&(e=a.apply(C,e),void 0===e&&(u=[]),e=Y(e)?e:[e]),g=s._lc,s._lc=r,b=u.length;b--;)if((_=u[b])&&(_=_+""===_?[r.data,_]:_,l=_[0],h=_.tag,p=(l&&l._ocp&&!l._vw?c:e)[b],!(void 0===p||C&&C.onBeforeUpdateVal&&C.onBeforeUpdateVal(i,{change:"change",data:l,path:_[1],index:b,tagElse:t,value:p})===!1)))if(h)void 0!==(k=h._.toIndex[_.ind])&&h.updateValue(p,k,_.tagElse,void 0,void 0,i),h.setValue(p,_.ind,_.tagElse);else if(void 0!==p&&l){if((h=i&&(v=i.target)._jsvInd===b&&v._jsvLkEl)&&void 0!==(k=h._.fromIndex[b])&&h.setValue(c[b],k,v._jsvElse),l._cpfn)for(x=r._ctxCb,m=l,l=r.data,m._cpCtx&&(l=m.data,x=m._cpCtx);m&&m.sb;)l=x(m,l),m=m.sb;G(l).setProperty(_[1],p)}s._lc=g}if(C)return C._.chg=void 0,C}function a(e){var n,i,r=e.target,a=c(r),o=Ge[a];if(!r._jsvTr||e.delegateTarget!==Ee&&"number"!==e.target.type||"input"===e.type){for(i=ce(a)?a(r):(r=t(r),o?r[o]():r.attr(a)),e.target._jsvChg=1,mt.lastIndex=0;n=mt.exec(e.target._jsvBnd);)$(i,r._jsvInd,r._jsvElse,void 0,n[1],e);e.target._jsvChg=void 0}}function o(e,t){var n,i,r,a,o,l,d,p,f,v=this,u=v.fn,_=v.tag,h=v.data,m=v.elem,x=v.convert,b=m.parentNode,k=v.view,C=k._lc,y=t&&q(k,Me,_);if(k._lc=v,b&&(!y||y.call(_||v,e,t)!==!1)&&(!t||"*"===e.data.prop||e.data.prop===t.path)){if(t&&(v.eventArgs=t),t||v._toLk){if(v._toLk=0,u._er)try{i=u(h,k,se)}catch(E){o=u._er,l=Ce(E,k,new Function("data,view","return "+o+";")(h,k)),i=[{props:{},args:[l],tag:_}]}else i=u(h,k,se);if(n=_&&_.attr||v.attr||(v._dfAt=c(m,!0,void 0!==x)),n===Ke&&(_&&_.parentElem||v.elem).type===$e&&(n=De),_){if(a=o||_._er,i=i[0]?i:[i],r=!a&&(_.onUpdate===!1||t&&ce(_.onUpdate)&&_.onUpdate(e,t,i)===!1),B(_,i,a),_._.chg&&(n===he||n===Ke)||r||n===Re)return A(_,e,t),_._.chg||g(v,h,m),k._lc=C,t&&(y=q(k,qe,_))&&y.call(_||v,e,t),void(_.tagCtx.props.dataMap&&_.tagCtx.props.dataMap.map(_.tagCtx.args[0],_.tagCtx,_.tagCtx.map,!_._.bnd));for(_.onUnbind&&_.onUnbind(_.tagCtx,v,_.ctx,e,t),_.linkedElems=_.linkedElem=_.mainElem=_.displayElem=void 0,f=_.tagCtxs.length;f--;)p=_.tagCtxs[f],p.linkedElems=p.mainElem=p.displayElem=void 0;i=":"===_.tagName?se._cnvt(_.convert,k,i[0]):se._tag(_,k,k.tmpl,i,!0,l)}else u._tag&&(x=""===x?ze:x,i=x?se._cnvt(x,k,i[0]||i):se._tag(u._tag,k,k.tmpl,i,!0,l),R(_=v.tag),n=v.attr||n);(d=_&&(!_.inline||v.fn._lr)&&_.template)&&g(v,h,m),s(i,v,n,_),v._noUpd=0,_&&(_._er=o,A(_,e,t))}d||g(v,h,m),_&&_._.ths&&_.updateValue(_,_.bindTo?_.bindTo.length:1),t&&(y=q(k,qe,_))&&y.call(_||v,e,t),k._lc=C}}function l(e,t){e._df=t,e[(t?"set":"remove")+"Attribute"](We,"")}function s(n,i,r,a){var o,s,d,p,c,f,v,g,_,h,m,x,b,k,C=!(r===Re||void 0===n||i._noUpd||(r===Ke||r===he)&&!a&&i.elem._jsvChg),y=i.data,E=a&&a.parentElem||i.elem,w=E.parentNode,j=t(E),A=i.view,T=i._val,I=A._lc,V=a;return a&&(a._.unlinked=!0,a.parentElem=a.parentElem||i.expr||a._elCnt?E:w,s=a._prv,d=a._nxt),C?("visible"===r&&(r="css-display"),/^css-/.test(r)?("visible"===i.attr&&(b=(E.currentStyle||bt.call(e,E,"")).display,n?(n=E._jsvd||b,n!==Re||(n=lt[x=E.nodeName])||(m=oe.createElement(x),oe.body.appendChild(m),n=lt[x]=(m.currentStyle||bt.call(e,m,"")).display,oe.body.removeChild(m))):(E._jsvd=b,n=Re)),(V=V||T!==n)&&t.style(E,r.slice(4),n)):"link"!==r&&(/^data-/.test(r)?t.data(E,r.slice(5),n):/^prop-/.test(r)?(f=!0,r=r.slice(5)):r===De?(f=!0,n=n&&"false"!==n):r===Fe?(f=!0,r=De,n=E.value===n):"selected"===r||"disabled"===r||"multiple"===r||"readonly"===r?n=n&&"false"!==n?r:null:r===Ke&&"SELECT"===E.nodeName&&(E._jsvSel=Y(n)?n:""+n),(o=Ge[r])?r===he?(A._lc=i,a&&a.inline?(c=a.nodes(!0),a._elCnt&&(s&&s!==d?O(s,d,E,a._tgId,"^",!0):(v=s?s.getAttribute(Pe):E._df,g=a._tgId+"^",_=v.indexOf("#"+g)+1,h=v.indexOf("/"+g),_&&h>0&&(_+=g.length,h>_&&(D(v.slice(_,h)),v=v.slice(0,_)+v.slice(h),s?s.setAttribute(Pe,v):E._df&&l(E,v)))),s=s?s.previousSibling:d?d.previousSibling:E.lastChild),t(c).remove(),p=A.link(A.data,E,s,d,n,a&&{tag:a._tgId})):(C=C&&T!==n,C&&(j.empty(),p=A.link(y,E,s,d,n,a&&{tag:a._tgId}))),A._lc=I):((V=V||T!==n)&&("text"===r&&E.children&&!E.children[0]?E[Le]=null===n?"":n:j[o](n)),!(k=w._jsvSel)||r!==Ke&&j.attr(Ke)||(E.selected=kt(""+n,Y(k)?k:[k])>-1)):(V=V||T!==n)&&j[f?"prop":"attr"](r,void 0!==n||f?n:null)),i._val=n,u(p),V):void(i._val=n)}function d(e,t){var n=this,i=q(n,Me,n.tag),r=q(n,qe,n.tag);if(!i||i.call(n,e,t)!==!1){if(t){var a=t.change,o=t.index,l=t.items;switch(n._.srt=t.refresh,a){case"insert":n.addViews(o,l);break;case"remove":n.removeViews(o,l.length);break;case"move":n.moveViews(t.oldIndex,o,l.length);break;case"refresh":n._.srt=void 0,n.fixIndex(0)}}r&&r.call(n,e,t)}}function p(e){var n,i,r=e.type,a=e.data,o=e._.bnd;!e._.useKey&&o&&((i=e._.bndArr)&&(t([i[1]]).off(_e,i[0]),e._.bndArr=void 0),o!==!!o?r?o._.arrVws[e._.id]=e:delete o._.arrVws[e._.id]:r&&a&&(n=function(t){t.data&&t.data.off||d.apply(e,arguments)},t([a]).on(_e,n),e._.bndArr=[n,a]))}function c(e,t,n){var i=e.nodeName.toLowerCase(),r=ge._fe[i]||e.contentEditable===ze&&{to:he,from:he};return r?t?"input"===i&&e.type===Fe?Fe:r.to:r.from:t?n?"text":he:""}function f(e,n,i,r,a,o,l){var s,d,p,c,f,v=e.parentElem,g=e._prv,_=e._nxt,h=e._elCnt;if(g&&g.parentNode!==v&&ke("Missing parentNode"),l){c=e.nodes(),h&&g&&g!==_&&O(g,_,v,e._.id,"_",!0),e.removeViews(void 0,void 0,!0),d=_,h&&(g=g?g.previousSibling:_?_.previousSibling:v.lastChild),t(c).remove();for(f in e._.bnds)P(f)}else{if(n){if(p=r[n-1],!p)return!1;g=p._nxt}h?(d=g,g=d?d.previousSibling:v.lastChild):d=g.nextSibling}s=i.render(a,o,e._.useKey&&l,e,l||n,!0),u(e.link(a,v,g,d,s,p))}function v(e,t,n){var i,r;return n?(r="^`",R(n),i=n._tgId,i||(st[i=dt++]=n,n._tgId=""+i)):(r="_`",Ve[i=t._.id]=t),"#"+i+r+(void 0!=e?e:"")+"/"+i+r}function g(e,t,n){var i,r,a,o,l,s,d,p,c,f,v,g,u=e.tag,_=e.convertBack,h=e._hdl;if(t="object"==typeof t&&t,u&&((c=u.convert)&&(c=c===ze?u.tagCtx.props.convert:c,c=e.view.getRsc("converters",c)||c,c=c&&c.depends,c=c&&se._dp(c,t,h)),(f=u.tagCtx.props.depends||u.depends)&&(f=se._dp(f,u,h),c=c?c.concat(f):f),g=u.linkedElems),c=c||[],!e._depends||""+e._depends!=""+c){if(l=e.fn.deps.slice(),e._depends&&(v=e._depends.bdId,G._apply(1,[t],l,e._depends,h,e._ctxCb,!0)),u&&u.boundProps)for(r=u.boundProps.length;r--;)for(d=u.boundProps[r],a=u._.bnd.paths.length;a--;)p=u._.bnd.paths[a]["_"+d],p&&p.skp&&(l=l.concat(p));for(r=l.length;r--;)s=l[r],s._cpfn&&(l[r]=pe({},s));if(i=G._apply(1,[t],l,c,h,e._ctxCb),v||(v=e._bndId||""+dt++,e._bndId=void 0,n._jsvBnd=(n._jsvBnd||"")+"&"+v,e.view._.bnds[v]=v),i.elem=n,i.linkCtx=e,i._tgId=v,c.bdId=v,e._depends=c,st[v]=i,(g||void 0!==_||u&&u.bindTo)&&S(i,u,_),g)for(r=g.length;r--;)for(o=g[r],a=o&&o.length;a--;)o[a]._jsvLkEl=u,V(u,o[a]),o[a]._jsvBnd="&"+v+"+";else void 0!==_&&V(u,n);u&&!u.inline&&(u.flow||n.setAttribute(Pe,(n.getAttribute(Pe)||"")+"#"+v+"^/"+v+"^"),u._tgId=""+v)}}function u(e){var t;if(e)for(;t=e.pop();)t._hdl()}function _(e,t,n,i,r,a,o){return h(this,e,t,n,i,r,a,o)}function h(e,n,i,r,o,s,d,p){if(r===!0?(o=r,r=void 0):r="object"!=typeof r?void 0:pe({},r),e&&n){n=n.jquery?n:t(n),Ee||(Ee=oe.body,Ne="oninput"in Ee,t(Ee).on(Ue,a).on("blur.jsv","[contenteditable]",a));for(var c,f,g,_,h,m,b,k,C,E,w=v,j=r&&"replace"===r.target,A=n.length;A--;){if(b=n[A],s=s||je(b),(C=s===ae)&&(ae.data=(ae.ctx=r||{}).root=i),""+e===e)x(E=[],e,b,s,void 0,"expr",i,r);else{if(void 0!==e.markup)j&&(m=b.parentNode),s._.scp=!0,g=e.render(i,r,o,s,void 0,w,!0),s._.scp=void 0,m?(d=b.previousSibling,p=b.nextSibling,t.cleanData([b],!0),m.removeChild(b),b=m):(d=p=void 0,t(b).empty());else{if(e!==!0||s!==ae)break;k={lnk:"top"}}if(b._df&&!p){for(_=y(b._df,!0,ft),c=0,f=_.length;c<f;c++)h=_[c],(h=Ve[h.id])&&void 0!==h.data&&h.parent.removeViews(h._.key,void 0,!0);l(b)}E=s.link(i,b,d,p,g,k,r)}u(E)}}return n}function m(e,n,i,r,a,o,s,c){function f(e,t,n,i,r,o,l,s,d,p,c,f,v,g){var u,_,m="";return g?(h=0,e):(b=(d||p||"").toLowerCase(),i=i||c,n=n||v,Z&&!n&&(!e||i||b||o&&!h)&&(Z=void 0,Y=me.shift()),i=i||n,i&&(i=i.toLowerCase(),h=0,Z=void 0,z&&(n||v?ot[Y]||/;svg;|;math;/.test(";"+me.join(";")+";")||(u="'<"+Y+".../"):ot[i]?u="'</"+i:me.length&&i===Y||(u="Mismatch: '</"+i),u&&xe(u+">' in:\n"+a)),re=ie,Y=me.shift(),ie=rt[Y],c=c?"</"+c+">":"",re&&(_e+=le,le="",ie?_e+="-":(m=c+Qe+"@"+_e+Je+(f||""),_e=Ce.shift()))),ie?(o?le+=o:t=c||v||"",b&&(t+=b,le&&(t+=" "+Pe+'="'+le+'"',le=""))):t=o?t+m+r+(h?"":Qe+o+Je)+s+b:m||e,z&&l&&(h&&xe("{^{ within elem markup ("+h+' ). Use data-link="..."'),"#"===o.charAt(0)?me.unshift(o.slice(1)):o.slice(1)!==(_=me.shift())&&xe("Closing tag for {^{...}} under different elem: <"+_+">")),b&&(h=b,me.unshift(Y),Y=b.slice(1),z&&me[0]&&me[0]===at[Y]&&ke("Parent of <tr> must be <tbody>"),Z=ot[Y],(ie=rt[Y])&&!re&&(Ce.unshift(_e),_e=""),re=ie,_e&&ie&&(_e+="+")),t)}function g(e,t){var i,r,a,o,s,c,f,g=[];if(e){for("@"===e._tkns.charAt(0)&&(t=N.previousSibling,N.parentNode.removeChild(N),N=void 0),V=e.length;V--;){if(L=e[V],a=L.ch,i=L.path)for(I=i.length-1;r=i.charAt(I--);)"+"===r?"-"===i.charAt(I)?(I--,t=t.previousSibling):t=t.parentNode:t=t.lastChild;"^"===a?(b=st[s=L.id])&&(f=t&&(!N||N.parentNode!==t),N&&!f||(b.parentElem=t),L.elCnt&&f&&l(t,(L.open?"#":"/")+s+a+(t._df||"")),g.push([f?null:N,L])):(B=Ve[s=L.id])&&(B.parentElem||(B.parentElem=t||N&&N.parentNode||n,B._.onRender=v,B._.onArrayChange=d,p(B)),o=B.parentElem,L.open?(B._elCnt=L.elCnt,t&&!N?l(t,"#"+s+a+(t._df||"")):(B._prv||l(o,k(o._df,"#"+s+a)),B._prv=N)):(!t||N&&N.parentNode===t?N&&(B._nxt||l(o,k(o._df,"/"+s+a)),B._nxt=N):(l(t,"/"+s+a+(t._df||"")),B._nxt=void 0),(c=q(B,Oe)||Ee)&&c.call(B.ctx.tag,B)))}for(V=g.length;V--;)he.push(g[V])}return!e||e.elCnt}function u(e){var t,n,i;if(e)for(V=e.length,I=0;I<V;I++)if(L=e[I],b=st[L.id],!b._is&&b.linkCtx&&(n=b=b.linkCtx.tag,i=b.tagName===K,!b.flow||i)){if(!R){for(t=1;n=n.parent;)t++;J=J||t}!R&&t!==J||K&&!i||F.push(b)}}function _(){var o,l,d="",p={},c=Te+(fe?",["+We+"]":"");for(S=it?n.querySelectorAll(c):t(c,n).get(),T=S.length,i&&i.innerHTML&&(U=it?i.querySelectorAll(c):t(c,i).get(),i=U.length?U[U.length-1]:i),J=0,j=0;j<T;j++)if(N=S[j],i&&!de)de=N===i;else{if(r&&N===r){fe&&(d+=C(N));break}if(N.parentNode)if(fe){if(d+=C(N),N._df){for(o=j+1;o<T&&N.contains(S[o]);)o++;p[o-1]=N._df}p[j]&&(d+=p[j]||"")}else ce&&(L=y(N,void 0,gt))&&(L=L[0])&&(pe=pe?L.id!==pe&&pe:L.open&&L.id),!pe&&we(y(N))&&N.getAttribute(Ae)&&he.push([N])}if(fe&&(d+=n._df||"",(l=d.indexOf("#"+fe.id)+1)&&(d=d.slice(l+fe.id.length)),l=d.indexOf("/"+fe.id),l+1&&(d=d.slice(0,l)),u(y(d,void 0,_t))),void 0===a&&n.getAttribute(Ae)&&he.push([n]),E(i,ie),E(r,ie),!fe)for(ie&&_e+le&&(N=r,_e&&(r?g(y(_e+"+",!0),r):g(y(_e,!0),n)),g(y(le,!0),n),r&&(d=r.getAttribute(Pe),(T=d.indexOf(se)+1)&&(d=d.slice(T+se.length-1)),r.setAttribute(Pe,le+d))),T=he.length,j=0;j<T;j++)N=he[j],P=N[1],N=N[0],P?(b=st[P.id])&&((m=b.linkCtx)&&(b=m.tag,b.linkCtx=m),P.open?(N&&(b.parentElem=N.parentNode,b._prv=N),b._elCnt=P.elCnt,B=b.tagCtx.view,x(ye,void 0,b._prv,B,P.id)):(b._nxt=N,b._.unlinked&&!b._toLk&&(H=b.tagCtx,B=H.view,A(b)))):x(ye,N.getAttribute(Ae),N,je(N),void 0,ce,e,s)}var h,m,b,j,T,I,V,S,N,B,L,P,U,M,O,D,$,F,R,K,H,z,J,Q,W,X,G,Y,Z,ee,te,ne,ie,re,ae,le,se,de,pe,ce,fe,ve=this,ue=ve._.id+"_",_e="",he=[],me=[],Ce=[],ye=[],Ee=q(ve,Oe),we=g;if(o&&(o.tmpl?O="/"+o._.id+"_":(ce=o.lnk,o.tag&&(ue=o.tag+"^",o=!0),(fe=o.get)&&(we=u,F=fe.tags,R=fe.deep,K=fe.name)),o=o===!0),n=n?""+n===n?t(n)[0]:n.jquery?n[0]:n:ve.parentElem||oe.body,z=!ge.noValidate&&n.contentEditable!==ze,Y=n.tagName.toLowerCase(),ie=!!rt[Y],i=i&&w(i,ie),r=r&&w(r,ie)||null,void 0!=a){if(te=oe.createElement("div"),ee=te,se=le="",ae="http://www.w3.org/2000/svg"===n.namespaceURI?"svg_ns":(G=be.exec(a))&&G[1]||"",ie){for($=r;$&&!(D=y($));)$=$.nextSibling;(ne=D?D._tkns:n._df)&&(M=O||"",!o&&O||(M+="#"+ue),I=ne.indexOf(M),I+1&&(I+=M.length,se=le=ne.slice(0,I),ne=ne.slice(I),D?$.setAttribute(Pe,ne):l(n,ne)))}if(Z=void 0,a=(""+a).replace(ct,f),z&&me.length&&xe("Mismatched '<"+Y+"...>' in:\n"+a),c)return;for(nt.appendChild(te),ae=Ie[ae]||Ie.div,Q=ae[0],ee.innerHTML=ae[1]+a+ae[2];Q--;)ee=ee.lastChild;for(nt.removeChild(te),W=oe.createDocumentFragment();X=ee.firstChild;)W.appendChild(X);n.insertBefore(W,r)}return _(),ye}function x(e,t,n,i,r,a,o,l){var s,d,p,f,v,g,u,_,h,m,x,k=[];if(r)_=st[r],_=_.linkCtx?_.linkCtx.tag:_,u=_.linkCtx||{type:"inline",data:i.data,elem:_._elCnt?_.parentElem:n,view:i,ctx:i.ctx,attr:he,fn:_._.bnd,tag:_,_bndId:r},_.linkCtx=u,b(u,e),_._toLk=u._bndId;else if(t&&n){for(o=a?o:i.data,s=i.tmpl,t=j(t,c(n)),x=we.lastIndex=0;d=we.exec(t);)k.push(d),x=we.lastIndex;for(x<t.length&&xe(t);d=k.shift();){for(h=we.lastIndex,p=d[1],v=d[3];k[0]&&"else"===k[0][4];)v+=ie+ee+k.shift()[3],m=!0;m&&(v+=ie+ee+te+"/"+d[4]+ne),u={type:a||"link",data:o,elem:n,view:i,ctx:l,attr:p,_toLk:1,_noUpd:d[2]},f=void 0,d[6]&&(f=d[10]||void 0,u.convert=d[5]||"",void 0!==f&&c(n)&&(p&&xe(v+"- Remove target: "+p),u.convertBack=f=f.slice(1))),u.expr=p+v,g=s.links[v],g||(s.links[v]=g=se.tmplFn(v.replace(ye,"\\$&"),s,!0,f,m)),u.fn=g,b(u,e),we.lastIndex=h}}}function b(e,n){function i(t,n){o.call(e,t,n)}var r,a=e.type;if("top"!==a&&"expr"!==a||(e.view=new se.View(se.extendCtx(e.ctx,e.view.ctx),"link",e.view,e.data,e.expr,(void 0),v)),e._ctxCb=se._gccb(r=e.view),e._hdl=i,"SELECT"===e.elem.nodeName&&"link"===a&&!e.attr){var l=t(e.elem);l.on("jsv-domchange",function(){if(!arguments[3].refresh){var t=e.fn(r.data,r,se);l.val(e.convert||e.convertBack?se._cnvt(e.convert,r,t):t)}})}e.fn._lr?(e._toLk=1,n.push(e)):i(!0)}function k(e,t){var n;return e?(n=e.indexOf(t),n+1?e.slice(0,n)+e.slice(n+t.length):e):""}function C(e){return e&&(""+e===e?e:e.tagName===He?e.type.slice(3):1===e.nodeType&&e.getAttribute(Pe)||"")}function y(e,t,n){function i(e,t,n,i,a,l){o.push({elCnt:r,id:i,ch:a,open:t,close:n,path:l,token:e})}var r,a,o=[];if(a=t?e:C(e))return r=o.elCnt=e.tagName!==He,r="@"===a.charAt(0)||r,o._tkns=a,a.replace(n||ht,i),o}function E(e,t){e&&("jsv"===e.type?e.parentNode.removeChild(e):t&&""===e.getAttribute(Ae)&&e.removeAttribute(Ae))}function w(e,t){for(var n=e;t&&n&&1!==n.nodeType;)n=n.previousSibling;return n&&(1!==n.nodeType?(n=oe.createElement(He),n.type="jsv",e.parentNode.insertBefore(n,e)):C(n)||n.getAttribute(Ae)||n.setAttribute(Ae,"")),n}function j(e,n){return e=t.trim(e),e.slice(-1)!==ne?e=te+":"+e+(n?":":"")+ne:e}function A(e,n,i){function r(){a=x.linkedElems||e.linkedElems||e.linkedElem&&[e.linkedElem],a&&(e.linkedElems=x.linkedElems=a,e.linkedElem=a[0]=e.linkedElem||a[0]),(l=x.mainElem||e.mainElem)&&(x.mainElem=e.mainElem=l),(l=x.displayElem||e.displayElem)&&(x.displayElem=e.displayElem=l)}var a,o,l,s,d,p,c,f,v,g,u,_,h,m,x=e.tagCtx,b=e.tagCtxs,k=b&&b.length,C=e.linkCtx,y=e.bindTo||{};if(e._.unlinked){if(p=t(C.elem),e.linkedElement||e.mainElement||e.displayElement){if(o=e.linkedElement)for(e.linkedElem=void 0,s=o.length;s--;)if(o[s])for(c=!e.inline&&p.filter(o[s]),d=k;d--;)g=b[d],a=g.linkedElems=g.linkedElems||new Array(s),l=c[0]?c:g.contents(!0,o[s]),l[0]&&l[0].type!==Fe&&(a[s]=l.eq(0));if(o=e.mainElement)for(c=!e.inline&&p.filter(o),d=k;d--;)g=b[d],l=c[0]?c:g.contents(!0,o).eq(0),l[0]&&(g.mainElem=l);if(o=e.displayElement)for(c=!e.inline&&p.filter(o),d=k;d--;)g=b[d],l=c[0]?c:g.contents(!0,o).eq(0),l[0]&&(g.displayElem=l);r()}e.onBind&&(e.onBind(x,C,e.ctx,n,i),r())}for(d=k;d--;)g=b[d],u=g.props,(l=g.mainElem||!e.mainElement&&g.linkedElems&&g.linkedElems[0])&&(l[0]&&u.id&&!l[0].id&&(l[0].id=u.id),e.setSize&&((_=!y.height&&u.height||e.height)&&l.height(_),(_=!y.width&&u.width||e.width)&&l.width(_))),(_=(l=g.displayElem||l)&&(!y["class"]&&u["class"]||e.className))&&(h=l[0]._jsvCl,_!==h&&(l.hasClass(h)&&l.removeClass(h),l.addClass(_),l[0]._jsvCl=_));if(e.onAfterLink&&(e.onAfterLink(x,C,e.ctx,n,i),r()),!e.flow&&!e._.chg)for(e._tgId&&e._.unlinked&&(e.linkedElems||e.bindTo)&&S(st[e._tgId],e),d=b.length;d--;){for(u=e.cvtArgs(d,1),s=u.length;s--;)_=u[s],e.setValue(_,s,d);if(e._.unlinked)for(x=b[d],a=x.linkedElems||!d&&e.linkedElem&&[e.linkedElem],m=(e.bindTo||[0]).length;m--;)if((l=a&&a[m])&&(s=l.length))for(;s--;)f=l[s],v=f._jsvLkEl,v&&v===e||(f._jsvLkEl=e,f._jsvInd=m,f._jsvElse=d,V(e,f),f._jsvBnd="&"+e._tgId+"+")}e._.unlinked=void 0,e._.lt&&e.refresh()}function T(e){var t=e.which;t>15&&t<21||t>32&&t<41||t>111&&t<131||27===t||144===t||setTimeout(function(){a(e)})}function I(e,t,n){t!==!0||!Ne||Be&&e[0].contentEditable===ze?(t=""+t===t?t:"keydown.jsv",e[n](t,t.indexOf("keydown")>=0?T:a)):e[n]("input.jsv",a)}function V(e,n){var i,r,a=n._jsvTr||!1;e&&(r=e.tagCtx.props.trigger,void 0===r&&(r=e.trigger)),void 0===r&&(r=de.trigger),r=r&&("INPUT"===n.tagName&&n.type!==$e&&n.type!==Fe||"textarea"===n.type||n.contentEditable===ze)&&r||!1,a!==r&&(i=t(n),I(i,a,"off"),I(i,n._jsvTr=r,"on"))}function S(e,t,n){var i,r,a,o,l,s,d,p,c,f,v,g,u,_,h=1,m=[],x=e.linkCtx,b=x.data,k=x.fn.paths;if(e&&!e.to){for(t&&(t.convertBack||(t.convertBack=n),s=t.bindTo,h=t.tagCtxs?t.tagCtxs.length:1);h--;){if(u=[],g=k[h])for(s=g._jsvto?["jsvto"]:s||[0],!h&&t&&t._.ths&&(s=s.concat("this")),p=s.length;p--;){if(r="",v=x._ctxCb,d=s[p],d=g[+d===d?d:"_"+d],i=d&&d.length){if(a=d[i-1],a._cpfn){for(o=a;a.sb&&a.sb._cpfn;)r=a=a.sb;r=a.sb||r&&r.path,a=r?r.slice(1):o.path}l=r?[o,a]:N(a,b,v)}else f=t.linkedCtxParam,l=[],_=t._.fromIndex,_&&f&&f[_[p]]&&(l=[t.tagCtxs[h].ctx[f[_[p]]][0],me]);(c=l._cxp)&&c.tag&&a.indexOf(".")<0&&(l=c),u.unshift(l)}m.unshift(u)}e.to=m}}function N(e,t,n){for(var i,r,a,o,l,s,d,p;e&&e!==me&&(a=n(i=e.split("^").join("."),t))&&(o=a.length);){if(l=a[0]._cxp)if(d=d||l,s=a[0][0],me in s?(p=s,s=s._vw):p=s.data,d.path=e=a[0][1],a=[d.data=p,e],n=se._gccb(s),e._cpfn){for(r=e,r.data=a[0],r._cpCtx=n;e.sb&&e.sb._cpfn;)i=e=e.sb;i=e.sb||i&&i.path,e=i?i.slice(1):r.path,a=[r,e]}else l.tag&&l.path===me&&(a=l);else a=o>1?[a[o-2],a[o-1]]:[a[o-1]];t=a[0],e=a[1]}return a=a||[t,i],a._cxp=d,a}function B(e,t,n){var i,r,a=e.tagCtx.view,o=e.tagCtxs||[e.tagCtx],l=o.length,s=!t;if(s){if(t=e._.bnd.call(a.tmpl,(e.linkCtx||a).data,a,se),t.lt)return;e._.lt=void 0,t=Y(t)?t:[t]}if(n)o=e.tagCtxs=t,e.tagCtx=o[0],R(e);else for(;l--;)i=o[l],r=t[l],G(i.props).setProperty(r.props),pe(i.ctx,r.ctx),i.args=r.args,s&&(i.tmpl=r.tmpl);return se._thp(e,o[0]),o}function L(e){for(var t,n,i,r=[],a=e.length,o=a;o--;)r.push(e[o]);for(o=a;o--;)if(n=r[o],n.parentNode){if(i=n._jsvBnd)for(i=i.slice(1).split("&"),n._jsvBnd="",t=i.length;t--;)P(i[t],n._jsvLkEl,n);D(C(n)+(n._df||""),n)}}function P(e,n,i){var r,a,o,l,s,d,p,c,f,v,g,u,_,h,m=st[e];if(n)i._jsvLkEl=void 0;else if(m&&(!i||i===m.elem)){delete st[e];for(r in m.bnd)l=m.bnd[r],s=m.cbId,Y(l)?t([l]).off(_e+s).off(ue+s):t(l).off(ue+s),delete m.bnd[r];if(a=m.linkCtx){if(o=a.tag){if(d=o.tagCtxs)for(p=d.length;p--;)u=d[p],(c=u.map)&&c.unmap(),(_=u.linkedElems)&&(h=(h||[]).concat(_));o.onUnbind&&o.onUnbind(o.tagCtx,a,o.ctx),o.onDispose&&o.onDispose(),o._elCnt||(o._prv&&o._prv.parentNode.removeChild(o._prv),o._nxt&&o._nxt.parentNode.removeChild(o._nxt))}for(_=h||[t(a.elem)],p=_.length;p--;)f=_[p],(v=f&&f[0]&&f[0]._jsvTr)&&(I(f,v,"off"),f[0]._jsvTr=void 0);g=a.view,"link"===g.type?g.parent.removeViews(g._.key,void 0,!0):delete g._.bnds[e]}delete m.s[m.cbId]}}function U(e){e?(e=e.jquery?e:t(e),e.each(function(){for(var e;(e=je(this,!0))&&e.parent;)e.parent.removeViews(e._.key,void 0,!0);L(this.getElementsByTagName("*"))}),L(e)):(Ee&&(t(Ee).off(Ue,a).off("blur.jsv","[contenteditable]",a),Ee=void 0),ae.removeViews(),L(oe.body.getElementsByTagName("*")))}function M(e){return e.type===$e?e[De]:e.value}function q(e,t,n){return n&&n[t]||e.ctx[t]&&e.ctxPrm(t)||Z.helpers[t]}function O(e,t,n,i,r,a){var o,s,d,p,c,f,v,g=0,u=e===t;if(e){for(d=y(e)||[],o=0,s=d.length;o<s;o++){if(p=d[o],f=p.id,f===i&&p.ch===r){if(!a)break;s=0}u||(c="_"===p.ch?Ve[f]:st[f].linkCtx.tag,c&&(p.open?c._prv=t:p.close&&(c._nxt=t))),g+=f.length+2}g&&e.setAttribute(Pe,e.getAttribute(Pe).slice(g)),v=t?t.getAttribute(Pe):n._df,(s=v.indexOf("/"+i+r)+1)&&(v=d._tkns.slice(0,g)+v.slice(s+(a?-1:i.length+1))),v&&(t?t.setAttribute(Pe,v):l(n,v))}else l(n,k(n._df,"#"+i+r)),a||t||l(n,k(n._df,"/"+i+r))}function D(e,t){var n,i,r,a;if(a=y(e,!0,vt))for(n=0,i=a.length;n<i;n++)r=a[n],"_"===r.ch?!(r=Ve[r.id])||!r.type||t&&r._prv!==t&&r.parentElem!==t||r.parent.removeViews(r._.key,void 0,!0):P(r.id,void 0,t)}function $(e,t,n,i,a,o){var l=this,s=[];return l&&l._tgId&&(a=l),s[t||0]=e,i?setTimeout(function(){r(s,n,a,o)}):r(s,n,a,o),l}function F(){for(var e=arguments.length;e--;)this.tag.setValue(arguments[e],e,this.index)}function R(e){var n,i,a,o,d,v,u,_;if(e.contents=function(e,n){e!==!!e&&(n=e,e=void 0);var i,r=t(this.nodes());return r[0]&&(i=n?r.filter(n):r,r=e&&n?i.add(r.find(n)):i),r},e.nodes=function(e,t,n){var i,r=this.contentView||this,a=r._elCnt,o=!t&&a,l=[];if(!r.args)for(t=t||r._prv,n=n||r._nxt,i=o?t===r._nxt?r.parentElem.lastSibling:t:r.inline===!1?t||r.linkCtx.elem.firstChild:t&&t.nextSibling;i&&(!n||i!==n);)(e||a||i.tagName!==He)&&l.push(i),i=i.nextSibling;return l},e.childTags=function(e,t){e!==!!e&&(t=e,e=void 0);var n=this.contentView||this,i=n.link?n:n.tagCtx.view,r=n._prv,a=n._elCnt,o=[];return n.args||i.link(void 0,n.parentElem,a?r&&r.previousSibling:r,n._nxt,void 0,{get:{tags:o,deep:e,name:t,id:n.link?n._.id+"_":n._tgId+"^"}}),o},"tag"===e._is){for(u=e,i=u.tagCtxs.length;i--;)a=u.tagCtxs[i],a.setValues=F,a.contents=e.contents,a.childTags=e.childTags,a.nodes=e.nodes;if(o=u.boundProps=u.boundProps||[],d=u.bindFrom)for(n=d.length;n--;)v=d[n],v+""===v&&(d[v]=1,kt(v,o)<0&&o.push(v));u.setValue=se._gm(u.constructor.prototype.setValue||function(e){return e},function(e,i,r){i=i||0,r=r||0;var a,o,l,s,d,p,c=u.tagCtxs[r],f=u.base.call(u,e,i,r);if(void 0!==f&&(e=f),void 0!==e&&(u.convert||void 0===u._.toIndex[i])&&(l=u.linkedCtxParam)&&l[i]&&(s=l[i])&&c.ctxPrm(s,e),d=u._.toIndex[i],void 0!==d&&(p=c.linkedElems||u.linkedElem&&[u.linkedElem])&&(a=p[d])&&(n=a.length))for(;n--;)o=a[n],void 0===e||o._jsvChg||u.linkCtx._val===e||(void 0!==o.value?o.type===$e?o[De]=e&&"false"!==e:o.type===Fe?o[De]=o.value===e:Y(e)?o.value=e:t(o).val(e):o[o.contentEditable===ze?"innerHTML":Le]=e),c.props.name&&(o.name=o.name||c.props.name);return u}),u.updateValue=$,u.updateValues=function(){return r(arguments,void 0,this)},u.setValues=function(){return F.apply(u.tagCtx,arguments),u},u.refresh=function(){var e,t,n=u.linkCtx,i=u.tagCtx.view;if(t=B(u))return u.onUnbind&&(u.onUnbind(u.tagCtx,n,u.ctx),u._.unlinked=!0),e=u.inline?he:n.attr||c(u.parentElem,!0),t=":"===u.tagName?se._cnvt(u.convert,i,u.tagCtx):se._tag(u,i,i.tmpl,t,!0),g(n,n.data,n.elem),s(t,n,e,u),A(u),u},u.domChange=function(){var e=this.parentElem,n=t._data(e).events,i="jsv-domchange";n&&n[i]&&t(e).triggerHandler(i,arguments)}}else _=e,_.addViews=function(e,t){var n,i=this,r=t.length,a=i.views;!i._.useKey&&r&&(n=a.length+r,n===i.data.length&&f(i,e,i.tmpl,a,t,i.ctx)!==!1&&(i._.srt||i.fixIndex(e+r)))},_.removeViews=function(e,n,i,r){function a(e){var n,r,a,o,l,s,d=f[e];if(d&&d.link){if(n=d._.id,i||(s=d.nodes()),d.removeViews(void 0,void 0,!0),d.type=void 0,o=d._prv,l=d._nxt,a=d.parentElem,i||(d._elCnt&&O(o,l,a,n,"_"),t(s).remove()),!d._elCnt)try{o.parentNode.removeChild(o),l.parentNode.removeChild(l)}catch(c){}p(d);for(r in d._.bnds)P(r);delete Ve[n]}}var o,l,s,d=this,c=!d._.useKey,f=d.views;if(c&&(s=f.length),void 0===e)if(c){for(o=s;o--;)a(o);d.views=[]}else{for(l in f)a(l);d.views={}}else if(void 0===n&&(c?n=1:(a(e),delete f[e])),c&&n&&(r||s-n===d.data.length)){for(o=e+n;o-- >e;)a(o);f.splice(e,n),d._.srt||d.fixIndex(e)}},_.moveViews=function(e,n,i){function r(e,t){return RegExp("^(.*)("+(t?"\\/":"#")+e._.id+"_.*)$").exec(t||e._prv.getAttribute(Pe))}function a(e,t){var n=e._prv;n.setAttribute(Pe,t),t.replace(ut,function(e,t,i,r){st[r].linkCtx.tag[t?"_prv":"_nxt"]=n}),t.replace(gt,function(e,t,i,r){Ve[r][t?"_prv":"_nxt"]=n})}var o,s,d,p=this,c=p._nxt,f=p.views,v=n<e,g=v?n:e,u=v?e:n,_=n,h=[],m=f.splice(e,i);for(n>f.length&&(n=f.length),f.splice.apply(f,[n,0].concat(m)),i=m.length,d=n+i,u+=i,_;_<d;_++)s=f[_],o=s.nodes(!0),h=p._elCnt?h.concat(o):h.concat(s._prv,o,s._nxt);if(h=t(h),d<f.length?h.insertBefore(f[d]._prv):c?h.insertBefore(c):h.appendTo(p.parentElem),p._elCnt){var x,b=v?g+i:u-i,k=(f[g-1],f[g]),C=f[b],y=f[u],E=r(k),w=r(C);a(k,w[1]+E[2]),y?(x=r(y),a(y,E[1]+x[2])):(f[u-1]._nxt=c,c?(x=r(p,c.getAttribute(Pe)),c.setAttribute(Pe,E[1]+x[2])):(x=r(p,p.parentElem._df),l(p.parentElem,E[1]+x[2]))),a(C,x[1]+w[2])}p.fixIndex(g)},_.refresh=function(){var e=this,t=e.parent;return t&&(f(e,e.index,e.tmpl,t.views,e.data,void 0,!0),p(e)),e},_.fixIndex=function(e){for(var t=this.views,n=t.length;e<n--;)t[n].index!==n&&G(t[n]).setProperty("index",n)},_.link=m}function K(e,t,n){var i=e.options.tag.tagCtx.props;if(void 0!==i.sort||void 0!==i.start||void 0!==i.end||void 0!==i.step||i.filter||i.reverse)e.update();else if("set"===n.change){for(var r=e.tgt,a=r.length;a--&&r[a].key!==n.path;);a===-1?n.path&&!n.remove&&G(r).insert({key:n.path,prop:n.value}):n.remove?G(r).remove(a):G(r[a]).setProperty("prop",n.value)}}function H(e,t,n){var i,r,a,o=e.src,l=n.change;if("set"===l)"prop"===n.path?G(o).setProperty(t.target.key,n.value):(G(o).removeProperty(n.oldValue),G(o).setProperty(n.value,t.target.prop));else if("insert"===l||"remove"===l)for(i=n.items,r=i.length;r--;)(a=i[r].key)&&("remove"===l?(G(o).removeProperty(a),delete o[a]):G(o).setProperty(a,i[r].prop))}function z(e){return xt.test(e)}var J=t===!1;n=n||J&&e.jsrender,t=t||e.jQuery;var Q="v1.0.1",W="JsViews requires ";if(!t||!t.fn)throw W+"jQuery";n&&!n.fn&&n.views.sub._jq(t);var X,G,Y=t.isArray,Z=t.views;if(!Z||!Z.map||Z.jsviews!==Q)throw W+"JsRender "+Q;var ee,te,ne,ie,re,ae,oe=e.document,le=Z.settings,se=Z.sub,de=se.settings,pe=se.extend,ce=t.isFunction,fe=(t.expando,Z.converters),ve=Z.tags,ge=de.advanced,ue=se.propChng=se.propChng||"propertyChange",_e=se.arrChng=se.arrChng||"arrayChange",he="html",me="_ocp",xe=se.syntaxErr,be=/<(?!script)(\w+)[>\s]/,ke=se._er,Ce=se._err,ye=/['"\\]/g;if(t.link)return t;de.trigger=!0;var Ee,we,je,Ae,Te,Ie,Ve,Se,Ne,Be=window.navigator.userAgent,Le=void 0!==oe.textContent?"textContent":"innerText",Pe="data-jsv",Ue="change.jsv",Me="onBeforeChange",qe="onAfterChange",Oe="onAfterCreate",De="checked",$e="checkbox",Fe="radio",Re="none",Ke="value",He="SCRIPT",ze="true",Je='"></script>',Qe='<script type="jsv',We=Pe+"-df",Xe="script,["+Pe+"]",Ge={value:"val",input:"val",html:he,text:"text"},Ye={from:Ke,to:Ke},Ze=0,et=t.cleanData,tt=le.delimiters,nt=oe.createDocumentFragment(),it=oe.querySelector,rt={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},at={tr:"table"},ot={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},lt={},st={},dt=1,pt=/^#(view\.?)?/,ct=/((\/>)|<\/(\w+)>|)(\s*)([#\/]\d+(?:_|(\^)))`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>)|$)/g,ft=/(#)()(\d+)(_)/g,vt=/(#)()(\d+)([_^])/g,gt=/(?:(#)|(\/))(\d+)(_)/g,ut=/(?:(#)|(\/))(\d+)(\^)/g,_t=/(#)()(\d+)(\^)/g,ht=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g,mt=/&(\d+)\+?/g,xt=/^[^.]*$/,bt=e.getComputedStyle,kt=t.inArray;if(Be=Be.indexOf("MSIE ")>0||Be.indexOf("Trident/")>0,G=t.observable,!G)throw W+"JsObservable";return X=G.observe,R(se.View.prototype),se.onStore.template=function(e,n,i){null===n?(delete t.link[e],delete t.render[e]):(n.link=_,e&&!i&&"jsvTmpl"!==e&&(t.render[e]=n,t.link[e]=function(){return _.apply(n,arguments)}))},se.viewInfos=y,(le.delimiters=function(){var e=tt.apply(0,arguments),t=de.delimiters;return ee=t[0].charAt(0),te=t[0].charAt(1),ne=t[1].charAt(0),ie=t[1].charAt(1),re=t[2],we=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+re+")?(\\"+te+se.rTag+"(:\\w*)?\\"+ne+")","g"),e})(),se.addSetting("trigger"),fe.merge=function(e){var t,n=this.linkCtx.elem.className,i=this.tagCtx.props.toggle;return i&&(t=i.replace(/[\\^$.|?*+()[{]/g,"\\$&"),t="(\\s(?="+t+"$)|(\\s)|^)("+t+"(\\s|$))",n=n.replace(new RegExp(t),"$2"),e=n+(e?(n&&" ")+i:"")),e},ve({on:{attr:Re,bindTo:[],init:function(e){for(var n,i=this,r=0,a=e.args,o=a.length;r<o&&!ce(a[r]);r++);i._hi=o>r&&r+1,i.inline&&(se.rTmpl.exec(n=t.trim(e.tmpl.markup))||(i.template="<button>"+(n||e.params.args[r]||"noop")+"</button>"),i.attr=he)},onBind:function(){this.template&&(this.mainElem=this.contents("button"))},onAfterLink:function(e,n){var i,r,a,o=this,l=o._hi,s=e.args,d=s.length,p=e.props,c=p.data,f=e.view,v=p.context;l&&(i=s[l-1],r=s.slice(l),s=s.slice(0,l-1),o._sel=s[1],a=o.activeElem=o.activeElem||t(o.inline?(o._sel=s[1]||"*",o.parentElem):n.elem),v||(v=/^(.*)[.^][\w$]+$/.exec(e.params.args.slice(-r.length-1)[0]),v=v&&se.tmplFn(te+":"+v[1]+ne,f.tmpl,!0)(n.data,f)),o._evs&&o.onUnbind(e,n,o.ctx),a.on(o._evs=s[0]||"click",o._sel,void 0==c?null:c,o._hlr=function(e){var t,a=!o.inline;if(!a)for(t=o.contents("*"),d=t.length;!a&&d--;)t[d].contains(e.target)&&(a=!0);if(a)return i.apply(v||n.data,[].concat(r,e,{change:e.type,view:f,linkCtx:n},r.slice.call(arguments,1)))}))},onUpdate:!1,onUnbind:function(){var e=this;e.activeElem&&(Ze=0,e.activeElem.off(e._evs,e._sel,e._hlr),Ze=Ze)},contentCtx:!0,setSize:!0,dataBoundOnly:!0},radiogroup:{boundProps:["disabled"],init:function(e){this.name=e.props.name||(Math.random()+"jsv").slice(9)},onBind:function(e,n){var i,r,a,o=this,l=e.params.props;for(l=l&&l.disabled,o.inline?(i=o.contents("*")[0],i=i&&je(i).ctx.tag===o.parent?i:o.parentElem,r=o.contents(!0,"input[type=radio]")):(i=n.elem,r=t("input[type=radio]",n.elem)),o.linkedElem=r,a=r.length;a--;)r[a].name=r[a].name||o.name;t(i).on("jsv-domchange",function(t,n){var s,d,p=n.ctx.parentTags;if(!o.inline||i!==o.parentElem||p&&p[o.tagName]===o){for(d=o.cvtArgs()[0],r=o.linkedElem=o.contents(!0,"input[type=radio]"),a=r.length;a--;)s=r[a],s._jsvLkEl=o,s.name=s.name||o.name,s._jsvBnd="&"+o._tgId+"+",s.checked=d===s.value,l&&(s.disabled=!!e.props.disabled);o.linkedElems=e.linkedElems=[r]}})},onAfterLink:function(e,t,n,i,r){var a=e.params.props;a&&a.disabled&&this.linkedElem.prop("disabled",!!e.props.disabled)},onUpdate:!1,contentCtx:!0,dataBoundOnly:!0}}),pe(ve["for"],{sortDataMap:Z.map({getTgt:ve["for"].sortDataMap.getTgt,obsSrc:function(e,t,n){e.update()},obsTgt:function(e,t,n){var i,r=n.items,a=e.src;if("remove"===n.change)for(i=r.length;i--;)G(a).remove(kt(r[i],a));else"insert"===n.change&&G(a).insert(r)}}),boundProps:["filter","sort","reverse","start","end"],bindTo:["paged","sorted"],bindFrom:[0],onArrayChange:function(e,t,n,i){var r,a=e.target.length,o=this;if(!o.rendering)if(o._.noVws||o.tagCtxs[1]&&("insert"===t.change&&a===t.items.length||"remove"===t.change&&!a))o.refresh();else for(r in o._.arrVws)r=o._.arrVws[r],r.data===e.target&&d.apply(r,arguments);o.domChange(n,i,t),e.done=!0},onUpdate:function(e,t,n){for(var i,r,a=this,o=n.length;o--;)i=n[o],r=i.props,i.argDefault=void 0===r.end||i.args.length>0,r.dataMap=i.argDefault!==!1&&Y(i.args[0])&&(void 0!==r.sort||i.params.props.start||i.params.props.end||void 0!==r.step||r.filter||r.reverse)&&a.sortDataMap},onBind:function(e,t,n,i,r){for(var a,o=this,l=0,s=o._ars=o._ars||{},d=o.tagCtxs,p=d.length,c=o.selected||0;l<=c;l++)e=d[l],a=e.map?e.map.tgt:e.args.length?e.args[0]:e.view.data,s[l]&&(X(s[l],!0),delete s[l]),!s[l]&&Y(a)&&!function(){var n=e;X(a,s[l]=function(e,i){o.onArrayChange(e,i,n,t)})}();for(l=c+1;l<p;l++)s[l]&&(X(s[l],!0),delete s[l]);r&&o.domChange(e,t,r)},onAfterLink:function(e){for(var n,i,r,a=this,o=0,l=a.tagCtxs,s=(l.length,a.selected||0);o<=s;o++)e=l[o],i=e.map,n=e.map?i.tgt:e.args.length?e.args[0]:e.view.data,Y(n)&&(r=e.params.props)&&(r.paged&&!a.paged&&(t.observable(a).setProperty("paged",n.slice()),
a.updateValue(a.paged,0,o,!0)),r.sorted&&!a.sorted&&(t.observable(a).setProperty("sorted",i&&i.sorted||n.slice()),a.updateValue(a.sorted,1,o,!0)))},onDispose:function(){var e,t=this;for(e in t._ars)X(t._ars[e],!0)}}),pe(ve["if"],{onUpdate:function(e,t,n){for(var i,r,a=0;i=this.tagCtxs[a];a++)if(r=i.props.tmpl!==n[a].props.tmpl||i.args.length&&!(i=i.args[0])!=!n[a].args[0],!this.convert&&i||r)return r;return!1},onAfterLink:function(e,t,n,i,r){r&&this.domChange(e,t,r)}}),ve("props",{baseTag:"for",dataMap:Z.map({getTgt:ve.props.dataMap.getTgt,obsSrc:K,obsTgt:H,tgtFlt:z}),flow:!0}),pe(t,{view:je=function(e,n,i){function r(e,t){if(e)for(o=y(e,t,ft),s=0,d=o.length;s<d&&(!(a=Ve[o[s].id])||!(a=a&&i?a.get(!0,i):a));s++);}n!==!!n&&(i=n,n=void 0);var a,o,l,s,d,p,c,f=0,v=oe.body;if(e&&e!==v&&ae._.useKey>1&&(e=""+e===e?t(e)[0]:e.jquery?e[0]:e)){if(n){if(r(e._df,!0),!a&&e.tagName)for(c=it?e.querySelectorAll(Xe):t(Xe,e).get(),p=c.length,l=0;!a&&l<p;l++)r(c[l]);return a}for(;e;){if(o=y(e,void 0,gt))for(p=o.length;p--;)if(a=o[p],a.open){if(f<1)return a=Ve[a.id],a&&i?a.get(i):a||ae;f--}else f++;e=e.previousSibling||e.parentNode}}return ae},link:h,unlink:U,cleanData:function(e){e.length&&Ze&&L(e),et.apply(t,arguments)}}),pe(t.fn,{link:function(e,t,n,i,r,a,o){return h(e,this,t,n,i,r,a,o)},unlink:function(){return U(this)},view:function(e,t){return je(this[0],e,t)}}),t.each([he,"replaceWith","empty","remove"],function(e,n){var i=t.fn[n];t.fn[n]=function(){var e;Ze=1;try{e=i.apply(this,arguments)}finally{Ze=0}return e}}),pe(ae=se.topView,{tmpl:{links:{}}}),Ve={0:ae},se._glt=function(e){for(var t,n=/#(\d*)\^\/\1\^/g,i=[],r=C(e);t=n.exec(r);)(t=st[t[1]])&&i.push(t.linkCtx.tag);return i},se._gccb=function(e){return function(t,n,i){var r,a,o,l,s,d,p,c,f,v,g;if(e&&t){if(t._cpfn)return t._cpfn.call(e.tmpl,n,e,se);if("~"===t.charAt(0)){if("~tag"===t.slice(0,4)&&(a=e.ctx,"."===t.charAt(4)?(r=t.slice(5),a=a.tag):"~tagCtx."===t.slice(0,8)&&(r=t.slice(8),a=a.tagCtx),r))return a?[a,r]:[];if(t=t.slice(1).split("."),l=e.ctxPrm(s=t.shift(),void 0,!0))if(c=l._cxp){if(t.length&&(d="."+t.join("."),s=l[p=l.length-1],s._cpfn?(s.sb=d,s.bnd=!!i):(l[p]=(s+d).replace("#data.",""),"#view"===s.slice(0,5)&&(l[p]=l[p].slice(6),l.splice(p,0,e)))),o=[l],(a=c.tag)&&a.convert)for(g=a.bindTo||[0],p=g.length;p--;)void 0!==i&&p!==c.ind&&(v=g[p],f=[l[0],a.tagCtx.params[+v===v?"args":"props"]],f._cxp=c,o.push(f))}else(t.length||ce(l))&&(o=[l,t.join(".")]);return o||[]}if("#"===t.charAt(0))return"#data"===t?[]:[e,t.replace(pt,"")]}}},se._cp=function(e,n,i,r){if(i.linked){if(r&&(r.cvt||void 0===r.tag._.toIndex[r.ind]))e=[{_ocp:e}],r.updateValue=function(n){return t.observable(e._cxp.data).setProperty(me,n),this};else if(n){var a=te+":"+n+ne,o=ae.tmpl.links,l=o[a];l||(o[a]=l=se.tmplFn(a,i.tmpl,!0)),e=l.deps[0]?[i,l]:[{_ocp:r?e:l()}]}else e=[{_ocp:e}];e._cxp=r||{updateValue:function(t){return G(e._cxp.data).setProperty(e._cxp.path,t),this}}}return e},se._ucp=function(e,t,n,i){var r=i.tag,a=r?kt(e,r.linkedCtxParam):0;return i.path||N("~"+e,n.data,se._gccb(n)),(i.updateValue||r.updateValue)(t,a,i.tagElse,void 0,r)},se._ceo=function Ct(e){for(var t,n=[],i=e.length;i--;)t=e[i],t._cpfn&&(t=pe({},t),t.prm=Ct(t.prm)),n.unshift(t);return n},Se=se.advSet,se.advSet=function(){Se.call(se),e._jsv=ge._jsv?pe(e._jsv||{},{views:Ve,bindings:st}):void 0,Ae=ge.linkAttr,Te=Xe+",["+Ae+"]",Ie=ge._wm,Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td},le.advanced({linkAttr:"data-link",useViews:!1,noValidate:!1,_wm:{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:t.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},_fe:{input:{from:M,to:Ke},textarea:Ye,select:Ye,optgroup:{to:"label"}}}),t},window);
//# sourceMappingURL=jquery.views.min.js.map
